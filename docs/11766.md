# 用 CSS 和 ASP.NET 检测打印

> 原文:[https://dev . to/adamkdean/detect-printing-with-CSS-ASP-net-2j 66](https://dev.to/adamkdean/detect-printing-with-css-asp-net-2j66)

因此，正如我在以前的帖子中所说，我有一个如何检测人们打印网站页面的绝妙想法。基本上，当他们从我们的网站上打印时，他们得到的是不同的布局，没有任何看起来像网站的东西。所以，如果我在 CSS 文件和请求之间放一个小小的 tracker 文件，肯定会有很好的效果，对吗？

不对。为了保护人们的隐私，现在所有的 css 文件都是在页面加载时下载的，所以每个视图都被注册为一个打印件。自然，我查了一下谷歌的大胡子们有什么要说的，不多。HTC 文件、打印机驱动程序，其中一个甚至提出了关于内部网的一些建议...

所以我在梦里发帖。在. Code 中，问大众，甚至 RDC 进入我的服务器问在 freenode irc 上的#css..然后我自己的问题给了我答案。

当有人在你的网站上打印一个页面时，你只需要使用 CSS，这实际上非常简单。想想看，当页面加载时，他们会加载 css，但除非有人打印，否则他们不会处理它，并且您可以使用 CSS 来请求图像..但是..CSS 如何知道一个图像是图像还是微波餐？除非它请求，否则它不会！

别忘了引用你的样式表！

```
<link rel="stylesheet" href="print.css" media="print" type="text/css" /> 
```

所以你只要把你的脚本放在一个 url()里面！！

```
body { background: url(PrintTracker.aspx); } 
```

工作出色，每次打印一页都需要“图像”,甚至同一页打印两次！

牛逼？我同意。

**更新:**已经注意到打印预览也会触发此功能。记住这一点。