# 关于总线因子(5/5)的经验教训:在为时已晚之前发现它

> 原文:[https://dev . to/einen lum/lessons-learned-about-bus-factor-55-detect-it before-that-that-late-DMI](https://dev.to/einenlum/lessons-learned-about-bus-factor-55-detect-it-before-it-is-too-late-dmi)

*这一系列文章摘自我在[柏林 PHP 会议](https://twitter.com/bephpug)上的演讲，最初发布在我的[博客](https://www.einenlum.com)上。如果你没有读第一本书，[给你](https://www.einenlum.com/articles/bus-factor-1)。*

在过去的文章中，我们写了一些日常策略，你可以建立这些策略来分享知识，平衡你的团队水平，并帮助任何人钻研你自己的代码。很明显，每天都把这个问题记在脑子里是很重要的。**但是现在，有没有办法检测出你项目的总线因子？你怎么知道你团队中的另一个成员或者一个新的开发人员可以轻易地接管你的项目呢？**

这个问题至关重要，因为**当你发现这个问题时，通常已经太晚了**(还记得我在第一篇文章中的小故事吗？).经历了几次失败后，我和我的同事们不仅想在未来防止这些糟糕的经历，还想发现哪些项目可能会再次发生这种情况。

一年前，在一次黑客马拉松中，它引发了我公司所有开发人员之间富有成效的讨论。我们想到了一个有趣的主意。这就是我们所做的，大约每两周或每月一次。

* * *

## 公交车因素回顾

拿一个项目来说。然后**把你们公司所有从未参与过这个项目**的开发人员都找来。只有他们。你随机选择其中一个。
**他们的目标是**花大约一两个小时，克隆你的 git 库，在他们的机器上安装项目，并**了解域，和一些实现。他们不能从其他开发者那里得到任何帮助。他们只能依靠存储库中所写的内容。如果他们有话要说(安装问题、模糊的领域、奇怪且没有文档记录的架构……)，他们会打开一个 Github 问题并列出问题。**

相信我，起初，一些开发人员甚至不能安装项目，因为例如在自述文件中忘记了一个强制参数。在这种情况下，他们只是停下来写一期。然后，两周后，你找来另一个开发人员，他或她做了完全相同的事情。**这个想法是为了检测那些只是口头上说的**而没有记录在存储库中的事情。通过以迭代的方式有规律地做这件事，不需要花很多时间，而且可以帮你发现很多隐含的东西。

当你做这个回顾的时候，想法是想象如果有人想要你在这个你不知道的项目中增加一个新的特性或者调试一些东西。你愿意在这个项目中修复一个 bug 或者增加一个新功能吗？如果没有，为什么？这个你不懂的不寻常的图案是什么？这些名字很难听的课是什么？测试是否足够明确？

我们都知道我们倾向于推迟重构或编写文档。“*是啊，后来的*”。**我们喜欢想象自己在项目的最后几天，清理所有脏东西，写一份精彩清晰的文档，然后交给客户。**哦，来吧。要诚实。**这种情况从来不会发生**，因为 *1/* 项目的最后几天通常会很紧张(因为你接近最后期限或预算的结束)，而 *2/* 因为你不记得所有的" *wtf* "实现，这对新来的人来说可能会很难理解。你已经习惯了。以新的面貌定期测试您的项目将迫使您在编码过程中提高代码和文档的质量。此外，不同的新人查看它的事实显然将有助于检测各种问题(每个开发人员不会被完全相同的事情困扰)。

* * *

## 总结

*   做系统的代码审查
*   把复杂的任务也交给低年级学生，但要帮助他们
*   靠近你客户的领域
*   使用反映你领域的高水平测试
*   编写显式代码
*   尽快发现共享知识的缺乏，并在你的存储库/代码中写下一切。停止这种口头文化:就像你的私人项目是一个开源项目，每个不知名的开发者都可以在上面合作

* * *

就是这样！希望这个系列能在某些方面帮到你。如果您同意或不同意某项陈述，或者使用其他技术来增加公交系数，请告诉我！非常感谢大家的评论:)。

*(特别感谢 Shivoham、Amandine 和 CÃ cile 的观点和校对)*

*图片鸣谢:[the poll diaries _ 003 _ Bavaria film international](https://www.flickr.com/photos/berlinbeyond2011/6193336443/in/photolist-arht9P-6bccio-deyFCp-goYfGz-a3vxHU-9PMyNq-9jvL7v-bqSFuF-cWe4RS-4zorW-jZfnqA-6b7gHM-9PMUqy-97EFj2-8QqYWP-85MRJV-8Zucvt-asv2K9-6eEXa5-85HZC7-7vUZKA-9gthGv-pKSGNX-2L49ss-a7hPTR-pnkMNn-a71YyV-mVS2hg-4LAmEu-jH3fq3-5ZZGTg-9PMyeQ-b9vkRP-qc1mPd-8CPEYK-C969c-8eKo2C-9PMPCw-4RBbZz-8tEGSS-aEfkPp-9Xm5NB-nCzkRf-7w8fih-9Gdu5A-9GajMX-nmitMv-9Gawov-nmivWv-9G9YdP)柏林超越。*