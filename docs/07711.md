# 为“上帝客体”模式辩护

> 原文:[https://dev . to/Andrew lucker/in-defense-of-the-god-object-pattern](https://dev.to/andrewlucker/in-defense-of-the-god-object-pattern)

…或“倡导*总提交量*模式”

HTML 是一个伟大而持久的协议，但是在图灵完全编程语言的世界里很难概括。所以通常你有能力告诉计算机你想让它做的任何事情；然而，这也意味着你被赋予了*责任*告诉计算机它应该做的一切。这通常不是任何人想要的。

如果我给 HTML 贴上一个术语来描述为什么它是一项如此酷的技术，我会强调它实际上做的很少。HTML5 中的标签不到 60 个，其中大部分都被否决了。令人惊讶的是，仅仅通过将这些原语混合在一起，就可以做很多事情。

我最喜欢的另一项技术是 SQL。这种数据库查询语言或多或少优雅地抓住了[微积分](https://en.wikipedia.org/wiki/%CE%A0-calculus)的大部分功能。它用足够简单的语言做到了这一点，以至于许多非程序员经常使用这个强大的工具来创建动态电子表格或苦干大量数据以找到有价值的见解。

这两种技术的共同点，也是我认为使它们如此强大的原因，是它们完全服从于一个“驱动程序”对象。对于 HTML，有浏览器。对于 SQL，有引擎。驱动程序对象变得无限复杂，但是界面将驱动程序置于一个富饶的区域，在那里凡人可以与这些动态的普罗维登斯对象进行交互。

促使我现在回顾这种模式的是我最近一直在努力解决的一件事，我认为随着时间的推移，它将变得越来越大:不祥地被称为*借款检查器*。这是一个用 Rust 编程语言实现的概念，源于*线性类型理论*。这让我一次又一次地感到沮丧，可能整个更大的社区中的其他人也是如此。它是*冯诺依曼架构*的眼中钉，直接抑制了许多被普遍认为是好代码的坚实的代码模式。

简单来说，借阅检查器是一个图书图书馆，**只借给能够证明他们将在到期 T3 之前归还图书*的访问者。***

试着借一本书。会让你头疼的。

现在回到“上帝物体”的话题。在这种情况下，显而易见，严格库非常适合这种模式。边缘代码通常可以分解为纯函数或数据结构。这些小片段可以连接起来，以创建更加精炼而扁平的语义。我认为我们将在 Rust 社区中看到更多这样的内容。这整个想法在实践中还很年轻，还没有达到规模。然而，随着这个工具集的使用开始增长，我打赌我们将会看到更多的小型库和更纯粹的语义:提交将成为完全推迟借用的一种方式。

[![](../Images/4e39ff2b1c704e19293f8ec2dc86afee.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--VBKe04Nb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AoZiOlBGMKipvgxVNMbS3qA.jpeg) 

<figcaption>望而不摸</figcaption>

*本帖最初发表于[medium.com](https://medium.com/@andrew_subarctic/in-defense-of-the-god-object-pattern-abfca3b65977)T3】*