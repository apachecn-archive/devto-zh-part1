# 反应-自然模态问题

> 原文:[https://dev.to/dragos11/react-native-modals-problems-5d0](https://dev.to/dragos11/react-native-modals-problems-5d0)

好了，问题是这样的:我试图呈现一个有加载器(ActivityIndicator 作为本机组件)的模态，它前面有一个警告。

当对 API 的调用正在加载而响应还没有到达时，显示模态。当响应到来时，警报被呈现。由于某些原因，ios 会立即关闭警告，加载程序的模式会永远保留在屏幕上。你必须关闭应用程序才能摆脱它。

在一些文档之后，我发现 alert 本地组件在一个模态的内部很深，我认为 iOS 失去了对他必须关闭的模态的跟踪。在与一些比我更好的开发人员(几乎所有人)进行头脑风暴后，我们找到了一个解决方案:SetTimeOut()，甚至用 0(实际上是即时的)，这样 iOS 就有时间决定关闭哪些模式。当我们在一些设备上测试该应用程序时，大约有 2 或 3 天的时间。设备不能像它应该的那样关闭模式。所以我决定在人类最亲爱的朋友互联网上看起来更好。我试着看看 react-native 是否提供了一个 *onModalClose* 方法，我发现有这样一个方法，但是只在 rc 上。所以唯一的机会就是等下一次发布。来吧反应:D