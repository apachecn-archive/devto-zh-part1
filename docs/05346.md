# RAM 与 CPU

> 原文:[https://dev.to/engineercoding/ram-vs-cpu](https://dev.to/engineercoding/ram-vs-cpu)

设计你的程序需要花很多心思，其中很大一个方面就是要在 ram 和 CPU 之间做出选择。你实际上不必选择哪一个是你最常用的，你需要在它们之间找到最佳的平衡。这是一个关于速度与效率的老问题。

我实际上体验了为什么这是如此重要，因为你只是希望你的内存稳定。有时这在测试时会被忽略，因为测试环境中通常使用小文件/查询。一旦使用实际生产数据将其部署到生产环境中，要么会出现`OutOfMemory`错误，要么会使用几乎所有的 RAM。

对我自己来说，我用下面的问题来保持一个稳定的内存:

*   我需要在内存中读取完整的文件吗？或者我可以逐行/逐字处理它吗？
*   在内存中读取这个文件会导致指数增长吗？(例如，当需要读取数量不确定的文件时)
*   我以后想使用这些数据吗？

我曾经编写了一个使用 3 mb 数据库的应用程序，出于某种原因，我决定每次迭代都要完整地读取它。在这种情况下，我最好将整个数据库加载到 RAM 中，并反复使用它，而不是反复读取它。这导致了实际的性能提升！

你如何设法保持一个稳定的内存？