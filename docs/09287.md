# 代理商和自由职业者应该如何做虚拟主机

> 原文:[https://dev . to/gaijinity/how-agency-freelancers-should-do-web-hosting-3e 65](https://dev.to/gaijinity/how-agencies-freelancers-should-do-web-hosting-3e65)

# [](#how-agencies-amp-freelancers-should-do-web-hosting)如何代理&自由职业者应该做虚拟主机

### 没有网络服务器，网站很少被使用。然而，网络托管往往是事后的想法。不应该。

安德鲁·韦尔奇

[![Web Host Server](../Images/86f9303ca21ad289c478bcce4de19412.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--alPaVvRZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://nystudio107-ems2qegf7x6qiqq.netdna-ssl.com/img/blog/_1200x675_crop_center-center_82_line/web-host-server.jpg)

虚拟主机是许多阿根机构和自由职业者都不会考虑的事情。他们只是利用那些与他们有长期关系的人，然后就到此为止。

然而，选择正确的主机以及正确的主机类型对项目的成功至关重要。在过去的几年里，主办世界发生了很大的变化，所以让我们开始吧。

<aside>A web host is sim­ply a serv­er where you put the project you devel­oped, so that the world can access it in all of its glory.</aside>

虚拟主机是我在 2017 年【tend Dev 最佳实践文章[中提到的亮点之一，所以我们深入探讨这一点并不奇怪！有几种类型的主机可供使用:](https://dev.to/gaijinity/frontend-dev-best-practices-for-2017-2ol9-temp-slug-5463385)

*   共享主机服务(Shared hosting ing)—你的网站位于一台服务器上，上面有许多其他网站，由主机服务公司管理。这类似于租一套公寓:虽然不贵，但很拥挤，你的邻居会在很大程度上影响你的生活质量，尤其是如果墙壁很薄的话。
*   你的网站坐落在一家 IT 公司(或一个留胡子的家伙)拥有的服务器上，并为你管理。这就像是住在一个迷你公寓里，这通常比租一个公寓要高一级，但是你仍然不拥有你所居住的土地。
*   你的网站位于你拥有的虚拟服务器上，你可以做任何尤尔喜欢做的事情。拥有自己的房子是不可能的。万娜把墙壁漆成粉红色？去吧，这是你的。

我会试着说服你，VPS 主机是你应该使用的。但首先，一些背景。

## [](#shared-host%C2%ADing)共享主机 ing

共享主机是我这些天一直不愿改进的东西。技术进步使得共享主机的主要优势——便宜——被不可避免的技术进步侵蚀了。

共享主机之所以成为现实，是因为服务器在过去非常昂贵。许多公司不能支付他们自己服务器的费用，因此，商务博客如雨后春笋般出现，他们在他们的服务器上为你创建一个帐户，让你把你的网站放在上面。

<aside>I’ve lived through many hor­ror sto­ries of some­one else’s poor­ly imple­ment­ed web­site on a shared host bring­ing down my clien­t’s web­site. It’s awful.</aside>

我有一个朋友兼同事，他有你能想象到的最好的共享主机交易:*他的公司网站*完全免费。那是因为他把他的客户带到主办公司。

然而，有些东西的*价格*和有些东西的*成本*是有区别的。他在这个独特的共享主机上为这些问题花费的时间已经清楚地表明，他的主机绝对不是免费的*。*

为你的客户创建一个错误的或糟糕的网站的成本是不可估量的。[要了解有关 Web 性能的详细信息，请参阅文章](https://dev.to/gaijinity/a-pretty-website-isn-8217-t-enough-1nbj-temp-slug-3932740)。

我只是拒绝工作，如果客户有他们的网站主机在 GoDad dy 或主机 Ga tor 共享主机。这是不安全工作环境的网络设备。它总是以眼泪结束。

所以让我们开始共享主机吧。对于任何情况下的网站托管来说，这都是最糟糕的解决方案。

## [](#man%C2%ADaged-hosting)老年主持人

男性主持人可能更有吸引力。毕竟，您是一名设计人员或开发人员，而不是依赖于编写 shell 脚本的 Unix 专家。你想设计网站，把它交给客户，而不是处理设置和维护服务器的血淋淋的部分。

主持人的级别有很多种，但总的来说，就是你买了一台虚拟服务器，但另一个人为你主持。好处是显而易见的，因为如果服务器出了问题，你的客户可以打电话给其他人——尽管他们很可能还是会打电话给你。

不利的一面是，你要为这个设置和支持付费。你每个月的收入会减少，因为不管你用不用，你的一些收入会被用于支持。

<aside>Addi­tion­al­ly, you don’t own the server.</aside>

假设你想根据 Craft CMS 文章中的[创建优化图像来安装`jpegoptim` & `optipng`，为你的客户创建一些优化的图像。你不能。](https://dev.to/gaijinity/creating-optimized-images-in-craft-cms-2hc5-temp-slug-2354251)

你需要提交一份支持票，让别人帮你做。通常会，但根据他们官方支持的软件，有时不会。

我意识到，对某些人来说，填满一个大盒子，让别人来处理，听起来是一件好事。这是可能的。但不是当你无聊地等着问题被解决，然后才能开始工作的时候。

<aside>The fact that you filed a sup­port tick­et does­n’t pre­vent your client from blam­ing you when the web­site is down.</aside>

你也是 IT 公司的一员，他们为你的服务器提供“堆栈”。例如，当`PHP 7`在 2016 年第四季度发布时，它是 PHP 的一个 water shed 版本。它几乎把 PHP 应用程序的速度提高了一倍。然而，许多上了年纪的主机环境却迟迟没有推出它。

一些老年主机*仍然*不提供`PHP 7`(我认为这是任何运行 PHP 应用程序的网站的强制要求)，或者他们提供了，但在“测试版”。

在我多年管理各种 web 服务器的过程中，到目前为止，大多数问题都是由使用分布式堆栈的虚拟主机环境引起的，这种环境会导致性能低下(或者完全没有性能)。当别人在为你维持这一切，而你对提供给你的东西没有发言权时，情况会变得更糟。

<aside>You are also often stuck using anti­quat­ed CPan­el soft­ware to admin­is­ter your serv­er. Which inevitably leads to fil­ing a sup­port tick­et when it can’t do what you need.</aside>

最后，大多数老年主机也有一个有限的地理区域，他们托管网站。通常，它们只提供您的服务器物理存在的一个位置，这使得当您与来自全国各地或世界各地的客户一起工作时，它不太理想。

可以肯定的是，有一些优秀的老年主持人。[为 tRa b 位](https://www.fortrabbit.com/)为 1； [ArcusTech](https://www.arcustech.com/) 是另一家。然而，有一些非常大的和众所周知的老年人主机是正确的，而且价格过高。

## [](#vps-host%C2%ADing)VPS Host­ing

我们要讨论的最后一种托管类型是我认为最适合大多数客户和大多数代理机构/自由职业者的:VPS 托管。

有了像[林颂](https://www.linode.com/)、[迪特伊塔尔海洋](https://www.digitalocean.com/)、 [Vul tr](https://www.vultr.com/) 和 [Ama zon AWS](https://aws.amazon.com/) 这样的同人公司，你只需点击几下鼠标，就可以构建一个新的服务器运行阿宁现代堆栈。它是你的了。你可以做任何尤尔想做事情。

有关这些服务的比较，请查看:

*   [$5 Show down:林 ode vs 迪格 i talO cean vs 阿玛 Light sail vs Vultr](https://joshtronic.com/2017/02/14/five-dollar-showdown-linode-vs-digitalocean-vs-lightsaild-vs-vultr/)
*   [$10 对决:林 ode vs 迪格 i talO cean vs 阿玛 Lightsail](https://joshtronic.com/2016/12/01/ten-dollar-showdown-linode-vs-digitalocean-vs-lightsail/)
*   [8GB Show down:林 ode vs 迪格 i talO cean vs 阿玛轻帆 vs Vultr](https://joshtronic.com/2016/12/18/8gb-showdown-linode-digitalocean-lightsail-vultr/)
*   [云主机 ing Show down–Dig I talO cean vs AWS vs TR vs 林 ode vs Azure](https://stratusly.com/digitalocean-vs-aws-vs-vultr-vs-linode-vs-azure/)
*   或者在这里进行面对面的比较: [VPS 基准](https://www.vpsbenchmarks.com/compare/)

您还可以选择服务器在世界上的物理位置，并让它靠近您的客户(或他们的顾客):

[![Vps Locations](../Images/04330ea46b83e384692179ae93c48158.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--pZQ1GVNh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://nystudio107-ems2qegf7x6qiqq.netdna-ssl.com/img/blog/_992x524_crop_center-center_100_line/vps-locations.png)

前面提到的所有 VPS 主机都提供了监控功能、负载平衡、自动屏蔽快照备份等等。

“但是我不想成为一个服务器，”你说。我也不想让你知道。如果你是一个 Unix 怪物，Lin ode，Dig i tal Ocean，Vul tr 和 Ama zon AWS 本身就很棒。如果你不是，我明白。你不想成为那样的男人或女人。让我给你介绍一下 [Lar avel Forge](https://forge.laravel.com) ， [Server Pi lot。io](https://serverpilot.io/) ，和[运行云。io](https://runcloud.io/) 。

[Lar avel Forge](https://forge.laravel.com/) ，[服务器 Pi lot。io](https://serverpilot.io/) 和[运行云。io](https://runcloud.io/) 是服务器*精密*工具。它们可以与来自上述任何 VPS 主机公司的运行 Ubun tu 16.04(即阿林版本)的任何服务器一起使用，并且它们消除了设置和维护服务器的麻烦。

[![Keep Calm And Let The Sysadmin Hanlde It](../Images/2a10a17dbbdfad6b2a38a73ff88ec7bc.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--oSgNeCJS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://nystudio107-ems2qegf7x6qiqq.netdna-ssl.com/img/blog/_1200x675_crop_center-center_82_line/919/keep-calm-and-let-the-sysadmin-hanlde-it.jpg)

以下是您可以使用这些服务器配置工具做的事情:

*   单击一个按钮，为 mant 堆栈创建一个配置了调制解调器的新服务器
*   单击一个按钮，在您的服务器上创建一个新网站(想创建多少就创建多少！)
*   单击按钮可随时升级或降级您的服务器计划
*   点击一个按钮，通过 [LetsEn crypt](https://letsencrypt.org/) 为您的网站创建一个完全免费、自动更新的`SSL`证书
*   如果您通过安装`SSL`证书来启用`https`，您也可以自动获得`http2`(2 个功能 1 次点击)
*   点击按钮将你的 [GitHub](https://github.com/) 或 [Beanstalk](http://beanstalkapp.com/) (或其他什么)`git`回购链接到网站
*   单击一个按钮，将其设置为自动部署您在推送至不同的`git` repo 分支时所做的更改
*   将自动为您安装安全更新；没有大惊小怪，没有混乱
*   安装的堆栈通过设计是安全的；默认情况下会实现一些最佳实践，比如要求 SSH 密钥

这一切都让你有了一个工作流程，如[数据库&Craft CMS](https://dev.to/gaijinity/database-asset-syncing-between-environments-in-craft-cms-3fca-temp-slug-480513)文章中描述的环境之间的资产同步:

[![Code Flow](../Images/264f4c2e9b1f992cacbfd308dddf5e36.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--aYQRB9Jj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://nystudio107-ems2qegf7x6qiqq.netdna-ssl.com/img/blog/_768x485_crop_center-center_100_line/code_flow.png)

在`local` dev 中进行更改，推送`git` repo，它会自动部署到尤尔想要的任何服务器。额外的好处是，您现在有了网站的恢复备份，如果需要的话，您可以使用它来回滚更改。关于备份的更多信息，请查看[麻省理工学院通过网站备份发布的文章](https://nystudio107.com/blog/mitigating-disaster-via-website-backups)。

您可以随意启动服务器，通过几次点击来配置它们，然后继续您的项目。但是有了工作流程，你就可以更高效、更可靠地完成工作。不用等着别人给你买票。

如果你最终需要，你可以在你的 VPS 上安装任何尤尔想要的东西。

<aside>If you land a new client in Sin­ga­pore, no prob­lem. Spin up a VPS locat­ed phys­i­cal­ly in Sin­ga­pore, and get to work.</aside>

这一切工作的原因是因为 [Lar avel Forge](https://forge.laravel.com/) ， [Server Pi lot。io](https://serverpilot.io/) 和[运行云。io 已经创建了一个精心制作的配方，用于按照 mant 的方式安全地设置和配置这些服务器。然后他们将它与一个非常容易使用的现代网络用户界面结合起来，我保证你会喜欢使用它。](https://runcloud.io/)

真有那么好。

[![Victory Silhouette](../Images/fefd307e587f1de368f3ec1d1410470a.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--zS9XQ3I2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://nystudio107-ems2qegf7x6qiqq.netdna-ssl.com/img/blog/_1200x675_crop_center-center_82_line/victory-silhouette.jpg)

那么应该选择哪个呢？我对大型锻造厂和 T2 服务器有经验。io ，而不是[跑云。io](https://runcloud.io/) 因为它是一款相对较新的电脑。尽管如此，我还是听到了粉丝们对[跑云的评价。io](https://runcloud.io/) ，所以我决定把它放在你的清单上检查一下。

至于 [Lar avel Forge](https://forge.laravel.com/) 和 [Server Pi lot。io](https://serverpilot.io/) ，他们都是优秀的服务；[服务器 Pi 批次。io](https://serverpilot.io/) 使用 Apache < - > Nginx 设置，因此您仍然可以使用您的`.htaccess`文件等，并且它允许您从各种 PHP 版本中选择运行，因此它是安全的选择。[服务器 Pi 批次。io](https://serverpilot.io/) 也有一个完全免费的层，它不包括 SSL 证书和一些其他 nic 接口，但其他方面都很好。

[Lar avel Forge](https://forge.laravel.com) 更先进一些，因为它带有一个`SSH`密钥管理器，免费的 SSL 证书是软件包的一个自动组成部分，它运行高性能的 mance Nginx web 服务器，并允许您授权访问(或被授权访问)其他人的 Forge 服务器，而不需要他们的证书，这对于客户工作来说是很重要的。

我完全支持 Forge，因为我将 Nginx 作为一个 web 服务器提供，就像它使用的方法一样，git repos 的内置部署对我来说是一个巨大的优势。然而，[服务器很多。io](https://serverpilot.io/) 也是 sol id。

两者都为服务器管理提供了一个非常容易使用的基于 web 的 UI，Forge 甚至有一个公共 API 来做这些事情。如果你确实在使用 Forge，并且有一台 Mac 电脑，那么就从你的菜单栏中查看非常酷的用于管理 Forge 服务器的[F-Bar](https://eastwest.se/apps/fbar)应用程序。

他们还提供其他的范二特色，但是希望我已经给了你足够的品味去尝试一下。

两个选择都不会错。所以值得。

## [](#so-what-are-the-downsides)那么有哪些坏处呢？

那么，提升你自己的副总裁有哪些不利之处呢？主要有两种:

1.  **电子邮件** —既不是伪造也不是服务器 Pi lot。提供电子邮件。你可以把它们配置成，但我不同意。取而代之的是，为他们设置一个谷歌商务电子邮件账户，或者如果他们的需求很简单，使用他们的域名注册服务商的电子邮件(大多数域名注册服务商为每个域名提供 5 个免费的电子邮件地址)。
2.  **支持** —上述所有 VPS 主机公司都提供支持，但它们不提供您从托管主机获得的那种支持。以我的经验来看，还没有。一个现代的、决定性的 VPS 设置比共享/虚拟主机和伪造&服务器批量的工具有更少的问题。在任何情况下，我提供的通常都是足够的。

## [](#cloud%C2%ADways-a-third-option)云方式:第三种选择

一个有趣的、相对新的主机服务是 [Cloud Ways](https://www.cloudways.com) 。这是一项专业服务，就像锻造和服务器一样。io，使用它你可以通过 Dig i talO cean，Vul tr，Ama zon 等等，简单地启动世界各地的服务器……但是有点难度。

它是 man aged host ing，所以你*也*得到<sup>24</sup><sub>7</sub>sup port。因此，在某些方面，它是两个世界的最佳选择:您可以获得现代堆栈的优势，只需几次点击即可进行全球部署，而且您还可以获得支持。

对于要求<sup>24</sup><sub>7</sub>支持的客户来说，或者如果您担心必须自己向客户提供支持，这可能是一个不错的选择。

## [](#further-reading)进一步阅读

如果你想获得新文章的通知，请在 Twitter 上关注[纽约时报 107](https://twitter.com/nystudio107) 。

版权所有 2020 nystudio107。由 nystudio107 设计