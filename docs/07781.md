# 特尔斐的神谕，或者我是如何学会停止担忧并…接受…NoSQL 的

> 原文:[https://dev . to/Dave Ross/the-Oracle-at-Delphi-or-how-I-learn-to-stop-warning-andacceptnosql](https://dev.to/daveross/the-oracle-at-delphi-or-how-i-learned-to-stop-worrying-andacceptnosql)

我第一次接触企业级 web 开发是在 21 世纪初，当时我工作的公司将我们的订单处理和客户服务系统从绿屏迁移到了 J2EE。我们数据中心角落的一个架子上放着它的服务器:以雅典和斯巴达等希腊城邦命名的 1U webheads，以及一个名为 Delphi 的巨型 4U[Sun v 480](https://www.spectra.com/wp-content/uploads/sunfirev480.pdf)数据库服务器，因为在那里你可以找到 Oracle。

Delphi 包含两个 SPARC 9 CPU 和几千兆字节的 RAM。对于存储，千兆以太网将其连接到一个人口如此密集的 SAN，我们不得不加固它下面的地板。它是数据处理能力的热棒，在物理上和能力上使 Sun 220 r T1 网络服务器相形见绌。

普遍的看法是大量投资于您的数据库层:

*   多个快速 CPU 来解析和执行查询
*   大量内存用于缓存常见查询
*   为您的所有宝贵数据提供高性能冗余存储

当时我正在攻读学士学位的夜校，上了两个学期的数据库理论课。我们学习了关系代数，以及如何使用最初用于追踪病毒流行的公式来划分数据。当 NoSQL 出现时，我在 RDBMS 领域投入了大量资金。NoSQL 听起来像是我职业生涯初期处理过的杂乱无章的精选数据库。它抛弃了 RDBMS 几十年发展积累的智慧。我持怀疑态度，但是我开始喜欢这个没有 SQL、通常没有模式的世界。

当我为一个 web 应用程序指定了几个 AWS 实例时，我的思路清晰了。当我考虑到我们对多核和千兆字节 RAM 的需求时，我意识到 Delphi 的所有能力现在都在我们的 web 层，Delphi 新颖的千兆字节数据管道已经过时了。过去的硬件要求我们在数据库层处理数据，并通过网络发送尽可能小的结果集。今天的托管选项使得从存储中取出一组记录并在 web 层中迭代它们成为可能——也是负担得起的——使用编写应用程序其余部分的相同语言，并利用应用程序自己的缓存基础设施。

还记得 DBAs 吗？我们过去需要一名全职员工来针对我们的工作负载调整数据库服务器，并调整我们的查询以提高效率。这些生物是开发人员的克星，他们活着解释 DBMS 如何执行 SQL 的每一行。将记录选择逻辑移动到代码库中消除了对专用 DBA 的需要；优化选择成为代码评审的一部分，而不是一个专门的角色。

因此，虽然我将永远怀念那个数据处理庞然大物的嗡嗡声，但我承认它是一个遗迹。我过去对数据库的看法也是如此。NoSQL 还在，因为它不是一种时尚，它反映了一个行业正在适应我们手中荒谬的廉价处理能力。如果像我这样的老前辈能够学会——如果不是热爱，至少是接受——这个新世界，我希望其他所有的灰色代码猴子会多看一眼，理解 NoSQL 在今天的网络堆栈中的位置。