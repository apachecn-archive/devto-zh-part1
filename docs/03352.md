# 如何腾出时间偿还你的技术债务

> 原文：<https://dev.to/bosepchuk/how-to-make-time-to-repay-your-technical-debt-1lm>

关于如何偿还技术债务的文章即使没有几千篇，也有几百篇，但大多数都错过了第一步。他们不会告诉你如何腾出时间来偿还技术债务。你不太可能说服管理层让你停止在特性和 bug 修复上的工作来偿还你的技术债务足够长的时间来真正有所作为。由于很难量化偿还技术债务的影响，它很少成为任何人的首要任务。好吧，我会告诉你如何解决这个问题。

### 停止制造混乱

在我的上一篇文章中:[技术债务:我们需要更好的沟通，而不是更好的隐喻](https://smallbusinessprogramming.com/technical-debt-need-better-communication-not-better-metaphors/)，我区分了技术债务和蹩脚的代码。我还谈到了我的团队决定不再让蹩脚的代码进入我们的项目。一开始感觉慢一些，但事实几乎肯定不是这样。只是我们没有看到所有计划外的工作，这些工作在我们没有将蹩脚的代码投入生产后并没有发生。

所以，你的第一步是停止让事情变得更糟。战略性地使用技术债务——除非你在为一家初创公司工作，否则可能要谨慎使用——停止允许蹩脚的代码进入你的项目，因为蹩脚的代码没有任何好处。

### 在一些项目中，你不应该偿还你的技术债务

您可能会发现在某些项目中或者在项目生命周期的某些阶段偿还技术债务是无利可图的。这包括以下项目:

*   接近生命的尽头
*   一次性原型
*   为短暂的生命而造
*   不会再被改变
*   非常非常小(任何有能力的开发人员都可能在 100 行的脚本中搞清楚发生了什么)

如果这听起来像你的项目，无论如何继续读下去。这篇文章是关于提高效率，这样你就可以偿还你的技术债务。但是你可以很容易地使用你的新效率来提供更多的功能。

### 如何腾出时间偿还你的技术债务

好的，让我给你一个关于这一切是如何组合在一起的概述，然后我会用这篇文章的剩余部分来补充细节。

#### 概述

如果你的公司和你的团队对偿还技术债务感兴趣——真的感兴趣，而不只是口头上说说这个想法——那么腾出时间来偿还技术债务并不太困难。开个玩笑，挺难的。这就是为什么很少有团队能够做到的原因。但是事情是这样的:**大多数团队都淹没在浪费和低效中**。所以几乎可以肯定，你还有很大的提升空间。

你可以用你的效率收益来偿还你的技术债务。只要与管理层达成协议，你同意你获得的任何效率都会被重新用于偿还你的技术债务或获得更高的效率。如果没人买，你可以试着把它作为一个两个月的实验。实验比“改变”或“新政策”威胁更小。

#### 举个例子

假设你在有效的“无垃圾代码”策略下，在每一次特性和 bug 修复的冲刺中交付 30 个故事点。你保证会继续这么做。但是，如果你因为变得更有效率而有了额外的时间，那么你可以用这些额外的 5 个故事点来偿还你的技术债务或清理混乱或投资于更高的效率。

这是最极端的情况，管理层不会让你放慢特性发布的速度。但是几乎每个团队都可以说服管理层花一些时间来清理。假设你从 30 个故事点开始，管理层说你可以用其中的 5 个点来偿还你的技术债务，经过几次冲刺后，你变得更有效率，并获得另外 5 个故事点。这可能是一个现实的起点。

因此，在每次冲刺 的开始，将你的 10 个故事点应用到你最优先的想法 ***。让我们暂时忽略细节，但是想象一下你已经准备好了一个高价值想法的优先列表。***

如果您投资谨慎，您应该有更多的时间来交付您同意的特性和错误修复，同时您继续投资于清理和效率。每次冲刺都重复这个动作。一边走一边衡量自己的进步，并在学习如何轻松取胜时纠正自己的方向。

#### 对你有什么好处？

毫无疑问，偿还你的技术债务是一个长期的项目。但是好处是值得你努力的:

*   学习如何在没有额外资源的情况下偿还技术债务和清理混乱的开发人员是非常有价值的
*   蹩脚的代码是士气低落和开发者不满的主要来源，所以清理你的代码库会让你的生活更愉快

### 如何发现自己的浪费和低效

每支球队都是不同的，但我从未听说过一支球队不能进步。因为这是一个很大的话题，我不知道你的团队使用的是什么工具和技术，所以我只是列举一些我认为有用的想法。你可以把这些想法作为谈话的起点。选择一两件你的团队认为对你最有帮助的事情，并努力去做，直到它们自动完成。然后重复。同时做所有的事情会导致混乱和疲惫。

### 如何消除自己的浪费和低效

一些最简单的事情有最好的回报。让我们来看看几个想法:

*   建立共同的紧迫感。弄清楚为什么你——作为一个团队——想要变得更有效率。经常聊。写在白板上给大家看。
*   与您的团队一起集思广益，根据可能的回报对它们进行排序，并从列表的顶部开始工作
*   在每个 sprint 的开始做你的重构/效率故事(如果你把它们留到 sprint 的最后，你就不太可能有时间做它们)
*   采用某种短迭代的敏捷流程(SCRUM、看板等)。)
*   用 GIT 或 Subversion 这样的 VCS 管理你的代码
*   你的团队中的每个人都使用最好的 IDE，在一台速度快、屏幕大的计算机上运行
*   决定你的项目中的代码将如何格式化，设置你的 ide 用预提交钩子将你的代码格式化到项目标准，并且**不再手工格式化你的代码**(你可以使用一个语言标准而不是争论你的代码格式——例如 PHP 有 [PSR-1](http://www.php-fig.org/psr/psr-1/) 和 [PSR-2](http://www.php-fig.org/psr/psr-2/) ，Python 有 [PEP 8](https://www.python.org/dev/peps/pep-0008/)
*   进行自我和同行的代码评审吗(一小时一小时的代码评审比测试发现更多的缺陷，但是它们也增加理解和传播知识)
*   使用静态分析器、linters，以及在不使自己不堪重负的情况下尽可能调高编译器/解释器的警告，来自动化部分代码审查。让您的工具找到尽可能多的错误，这样您就可以将您的代码审查集中在计算机无法捕捉到的东西上
*   只做最重要的事情，一次只做尽可能少的事情(尽量减少多重任务)
*   停止浪费时间在低优先级的故事上
*   停止谈论一两个月后你可能会做的事情的细节(你谈论的事情有一半不会被完成或者会发生很大的变化，现在谈论它是浪费时间)
*   如果你不打算在接下来的两次冲刺中处理它们，就不要再向待办事项列表中添加故事了(这是浪费时间)
*   不要在你的故事中添加“有就好”的特征——坚持要点(记住 YAGNI:你不会需要它)
*   不要在会议和单口相声中浪费时间。做好准备，准时到达，完成你的日程，尽快回到工作中
*   不要陷入分歧。如果你们不能就一项倡议达成一致，那就放弃它，继续前进。
*   当你的同事工作时，不要打扰他们(打断他们的工作是非常昂贵的)
*   除非绝对必要，否则不要加班(避免精疲力竭)
*   让管理层承诺不中断你的冲刺，除非是紧急情况
*   如果有一种简单的方法可以提高团队成员的工作效率，考虑投入一点时间来实现它
*   召开回顾会议，回顾事情的进展，找出如何让事情进展得更好/更快
*   [找到你的最佳拉取请求大小](https://smallbusinessprogramming.com/optimal-pull-request-size/)(这比你想象的更重要)
*   向利益相关者传达你的进展，让人们对你的工作感到兴奋

### 衡量生产率是一个错误

取决于你相信谁，测量单个开发人员的生产力介于不可能和非常非常困难之间。如果你真的走这条路，你很快就会发现你的开发者在利用这个系统。将您的度量限制在团队速度和产品缺陷上。寻找几个月的趋势。不要太看重数字，否则人们会玩弄数字。

你应该寻找并消除浪费，而不是试图衡量生产率。一旦你开始寻找，你会发现浪费无处不在。如果你以某种方式让你的团队到了再也找不到任何浪费的地步，你就是了不起的！写一本项目管理的书，开始你自己的咨询工作，并且进行巡回演讲，因为我们需要知道你是如何做到的(我不是在开玩笑)。

### 敏捷基于不好的假设，但是你可以改进它

敏捷借鉴了制造业的理念，比如精益和六适马。精益源自丰田，专注于消除浪费。六适马来自摩托罗拉，专注于最小化差异。敏捷采纳了这些想法，因为它们在制造业中非常成功，而我们希望在软件开发中也获得同样的成功。然而，我们没有看到**精益和六适马背后的基本假设在软件开发中并不成立，因为软件开发一点也不像制造业**！

但是我有希望。我最近读了《产品开发流程的原则:第二代精益产品开发》(Donald Reinertsen)。这本书让我大吃一惊。Reinertsen 的见解如此明显，我无法相信我们还没有弄清楚这一点。我的团队正在努力实现他的想法。

所以如果你想要效率，读读 Reinertsen 的书。或者你可以在这个[视频](https://youtu.be/L6v6W7jkwok)中领略一下他的想法。

### 包装完毕

技术债和蹩脚代码无处不在。虽然许多文章和书籍可以帮助你找到解决方法，但它们通常不会帮助你找到时间来偿还技术债务。

你的第一步是停止允许蹩脚的代码进入你的项目。您可以将节省下来的时间用于代码审查、单元测试和其他 QA 活动，而不是修复您没有发布到产品中的缺陷。

你的下一步是引导你的团队努力提高效率。我列出了 20 多个想法，让你思考如何消除浪费和低效。一旦你完成了简单的东西，你就可以一头扎进 Reinertsen 的书里，继续做更难的东西。你可以用你提高的效率变得更有效率，偿还你的技术债务，或者清理垃圾代码。无论你选择以上哪种组合，如果你遵循这个计划，你仍然可以继续发布新的特性和改进。也许，你也会更喜欢你的工作。

你是否参与过一个成功偿还了一大堆技术债务的项目？你怎么会有时间做这件事？我很想听听你的经历。