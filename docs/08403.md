# 不再记录调试/信息/警告/错误

> 原文:[https://dev . to/danlebrero/no-more-debuginfowarnerror-logging](https://dev.to/danlebrero/no-more-debuginfowarnerror-logging)

*本文原载于 [IG 的博客](http://labs.ig.com/logging-level-wrong-abstraction)*

因此，您刚刚编写了另一个 try/catch 块，您再次开始考虑:我应该将这个异常记录为错误还是警告？或者，您可能编写了另一个“不应该发生”的条件分支，您又开始想:对于这种“不可能”的情况，我应该使用什么日志级别？

你问错问题了。

这些问题处于错误的抽象层次，因为它们不能帮助你找到答案。â€‹:相反，你必须从如何使用 log 语句的角度来看待这个问题。

在 IG，我们通常会遵循以下日志级别惯例:

*   调试:在开发过程中有用的信息。通常非常健谈，不会在生产中表现出来。
*   信息:调试生产问题所需的信息。
*   警告:团队中必须有人调查发生了什么，但可以等到明天。
*   错误:哦-哦，叫消防员！这个现在需要调查！

考虑到这种用法，日志级别的问题就变成了:“我是想在半夜醒来调查这件事，还是可以等到明天早上？”，这是一个非常具体的问题，即使是您的业务经理/生产负责人也应该能够回答。

当然，这个惯例需要教给新的团队成员，并不断提醒现有的团队成员。尽管我们很喜欢维基、代码审查和电子邮件提醒，但必须从日志级别到如何使用日志语句进行心理映射并不是一件很自然的事情，而且很快就会被遗忘。

因此，在一次代码审查后，我问了几次“为什么你要在半夜把我叫醒？”我决定将 SLF4J 的日志界面切换到一个实验性的“IGLogger”界面，如下所示:

[![logger](../Images/40251ed0102e05208f79a2621485c5ff.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--vXzEhuvb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://labs.ig.com/sites/default/files/iglogger.png)

结果很有趣:

*   读《wakeMeInTheMiddleOfTheNight》时大笑
*   使用“wakeMeInTheMiddleOfTheNight”时要格外小心
*   减少伐木时的精神训练
*   更容易做出正确的日志记录选择
*   无需向新成员解释，无需提醒现有成员
*   由开发人员在团队的其他项目中选择采用

最后，但同样重要的是，我们睡得更多了:错误日志的数量减少到了 0，这不是因为没有人会费心键入“wakeMeInTheMiddleOfTheNight”，而是因为这项服务是离线的、非关键的，所以任何问题都可以等到第二天。

日志级别是错误的抽象级别。