# 设计数据密集型应用综述

> 原文：<https://dev.to/horia141/designing-data-intensive-applications-review-681>

这是一篇关于[设计数据密集型应用](https://dataintensive.net/)的书评，作者[马丁·克莱普曼](https://martin.kleppmann.com/)。*TL；博士认为这是一本非常好的书，你应该出去读一读。这是一本书，在这本书的结尾，你可以真切地感受到一个比开头更好的开发人员。*

目标受众是互联网应用程序的构建者。特别是那些需要处理*后端*事情的人。因此，它处理数据库、服务、消息队列等。当然，核心问题是在单机和分布式系统中处理数据——并且处理大量数据。这很合适，因为在这样的系统中，组织和正确访问数据是困难的部分。不过我认为这本书涉及或者只能为“数据密集型”应用提供建议。即每天处理数 TB 数据和处理数 Pb 数据的应用程序。即使是和*小数据*一起工作的人也需要知道这些事情。也许在这种情况下，为了避免难以发现的错误，这一点甚至更加重要。写得不好的交易在 QPS 会很快被发现，但在 QPS 就没那么容易了。

这本书有三个部分，长度大致相等，但材料的难度不同。

我将第一部分描述为处理数据系统和普通用户之间的接口。第一章“可靠的、可伸缩的和可维护的应用程序”涵盖了构建应用程序的工程目标，如性能指标、操作需求等。第二章，“数据模型和查询语言”讲述了这些在历史上的各种体现。所以 SQL、NoSQL、关系存储与文档存储、图形模型等等。第三章“存储和检索”更深入地探讨了存储引擎的内部工作原理。但是，从用户的角度来看，他们需要打破他们正在使用的工具的抽象障碍，自己对数据布局做出一些选择。最后一章“编码和进化”涉及非数据库存储和传输格式，如节俭、协议缓冲、JSON 及其在分布式系统中的使用。又是一个接口问题。

第二部分处理分布式数据存储本身。因此，这是最技术性的部分，每一章都相当密集。然而，我认为这是最划算的部分，因为它将许多结果合成到类似于*框架*的东西中，并将其与实际系统如何在实践中使用该东西联系起来。此外，其他章节中的许多内容可以在很多地方找到——博客文章、产品文档和教程等。而本章的主题是为研究论文、分布式系统研究者的博客等保留的。第一章“复制”描述了数据系统在参与节点之间复制数据的各种方式，以实现冗余和更好的性能。第二章“分区”讨论了在数据系统的节点之间对数据集进行分区的问题，以获得更好的性能。这里有更多的工程学倾向，而不是 T2 式的宏大理论。第三章交易“事务”是我读过的关于关系数据存储事务处理的最好概述之一。我认为这本书仅这一章就值得一读。下一章，“分布式系统的麻烦”着眼于在这种系统中出现的问题。这些就是分布式系统和单机系统的基本区别。组件故障、坏时钟等。都在这里出现。紧随其后的是“一致性和共识”，它处理为解决前一章中的一些问题提供工具，以及它们需要的折衷。有很多关于实际系统如何利用“一致”实现者的参考，比如 ZooKeeper 或 etcd，2PC 的问题等等。

第三部分涉及“派生数据”。也就是说，从你存储在数据系统中的数据中计算出来的数据作为*真实来源*。这并不像上一部分那样激烈，因为当你只是将数据从一种形式转换成另一种形式时，困扰分布式系统的许多理论问题都可以被克服。第一章“批处理”涉及像 Hadoop 和 MapReduce 这样的系统以及它们周围的工具。第二章“流处理”是处理无限数据流的自然发展。有一些关于一些公司开始采用的未来架构的讨论，例如基于事件流的一切。在最后一章“数据系统的未来”中有更详细的介绍。最后几页警告说，在没有任何保护用户隐私和反跟踪措施的情况下收集太多数据是危险的。这是相当令人心酸的。

除了材料本身，还有大量的参考资料。其中许多是分布式系统文献中的著名论文。但是有些是著名的博客文章。我觉得这是件好事。在这类面向大众的书中，你看不到任何参考文献。还有一些技术书籍，你会看到很多参考文献，但它们主要是研究论文。但是这本书走了一个中间路线——有足够的参考资料引导你了解更多的分布式系统知识，但是它们不是 nieche 或晦涩的论文。而不是一本好书。类似地，我在这个主题上的很多教育来自于开始阅读博客文章，在这里找到我的一些资料来源也很好。而且，用一篇短文来探讨一个主题肯定比用 20 页的研究论文更容易。

不管是谁，试试这本书，你不会后悔的。