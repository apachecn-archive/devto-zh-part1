# 逆向工程遗留产品在 IOT 应用中的作用

> 原文：<https://dev.to/0x424c41434b/the-role-of-reverse-engineering-legacy-products-in-iot-applications>

## 问题

我的期末项目有一个非常有趣的用例。这个想法是帮助科学部门建立一个迷你网络服务器，允许学生做远程实验。讨论中的机器是 TOC 分析仪，由供应商软件进行物理控制，并通过串行端口连接。这种 TOC 分析仪还带有安装在计算机上的软件，用来向它发送命令。

## 解

解决方案是首先看看是否有可能获得一个 API 或 SDK 来发送命令给 TOC。这导致了失败，因为我们真的在任何地方都找不到它，我们认为联系该公司会耽误我们很多时间。最后，我们决定对串行通信协议进行逆向工程，并用 C++实现。这将为 TOC 提供我们自己的个人 SDK，我们可以根据自己的规范进行定制。

## 工具

开始这样做，我们需要一些项目。

*   USB 转串行端口适配器
*   虚拟串口嗅探器
*   一个 C++开发环境。

## 流程

这个逆向工程的过程是重复实验和纯粹运气的混合。我从功能的角度划分了 TOC 协议的命令。TOC 将根据您是在启动 TOC、用 TOC 做实验还是关闭 TOC 来交换数据。找出最重要的字节，这是最困难的部分。我希望我所要做的就是改变值，并注意哪些字节的数据发生了变化，但当多个字节也发生变化时，这就有点困难了。很难区分哪些数据意味着什么。好消息是我们设法破译了协议的大部分内容，并设法让它工作。

最终的想法是在我们的 SDK 上构建一个小型服务器，这样它就能够从 TCP 接收数据，以便远程命令在 TOC 上执行操作。

[https://www.youtube.com/embed/rjN5n793e_E](https://www.youtube.com/embed/rjN5n793e_E)

## 结论

这个过程的一些缺点是，你不能 100%确定你所拥有的是否健壮。可能有一部分数据改变了字节映射的全部含义。校验和可能是错误的，因为时间和各种各样的事情。然而，当您没有关于遗留产品的规范，但是您想要重新激活它时，这是值得研究的。逆向工程让你对应用程序有更好的理解，因为你反复地知道是什么让它运行