# 什么是作为代码的基础设施，为什么要使用它？

> 原文：<https://dev.to/thaiwood/what-is-infrastructure-as-code-and-why-should-you-use-it-5efd>

代码的基础结构只是以计算机和人类都能理解的方式写下使特定机器独一无二的东西的过程。(当我在这里说基础设施时，这通常是组成和支持给定应用程序或服务的服务器。)

根据您选择的帮助您完成这项工作的配置管理软件，您可能会使用 Ruby、Python 甚至 Bash。

它运行 http 服务器吗？它的文件描述符数量增加了吗？它需要什么样的配置文件才能运行？

可以运行这个结果代码来重新创建一个机器，或者如果它被错误地更改，甚至可以将它恢复到手动更改时的状态。

让定义成为代码允许您做一些事情，例如:

*   版本控制。您可以知道何时、由谁进行了更改，并查看版本之间的差异。
*   您可以查看更改。因为定义是代码，你可以开始应用你的同行评审过程(你有同行评审过程，对吗？).
*   这样更容易做正确的事情。有没有发现自己被 SSH 到一个服务器(甚至可能是 prod？！)并做出改变，同时一直想着“在我确定它有效之后，我会记录下来的。”IAC 可以帮助您避免这种情况。作出改变的方法和编纂它的方法是一样的。

这与文档有什么不同？代码是人类可读的，但也是机器可运行的，所以服务器可以根据需要重新创建/更新，而与文档一样，有单独的步骤，更新机器(手动？)然后更新文档。

将基础设施作为代码，定义/更新您想要的状态与记录它是一回事。

作为代码的基础设施不同于文档。仅仅编写和重新创建服务器的定义并不能代替文档，但是它可以让你把注意力集中在不同的事情上。

您可以写下该服务器的工作原理以及它与其他基础设施或应用程序的关系，而不必从头开始写下服务器上的所有内容。

例如，不必说服务器 X 是一个 CentOS 服务器，它运行应用程序 Y，拥有 ruby 版本 2.2.3，并受 iptables 规则的防火墙保护。相反，您可以关注像服务器 X 这样的文档，它是应用程序 Y 的服务器，对应用程序 Y 的继续运行至关重要。如果你需要知道盒子上的内容及其版本，请查看代码。

你怎么想呢?留下评论。更多类似的请看:[https://thaiwood.io/DevTo](https://thaiwood.io/DevTo)