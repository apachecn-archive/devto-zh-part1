# HtC: SD —第 3 周:设计世界和复合数据

> 原文:[https://dev . to/Monica leap/HTC-SD-week-3-designing-worlds-and-compound-data-2ei 0](https://dev.to/monicaleep/htc-sd-week-3-designing-worlds-and-compound-data-2ei0)

这一周我学到了很多，这并不奇怪。前半周的重点是通过球拍中的大爆炸功能设计世界。把大爆炸想成一种事件循环(但是由于 Racket 是一种函数式语言，所以在实现上有很大的不同)。所以当 big-bang 运行时，你需要通过编写不同的函数来告诉它做什么。但是在此之前，您需要解决您的数据！最重要的事情总是数据定义，对于复合数据更是如此。

复合数据是“自然”链接在一起的数据。想想 x，y 坐标，速度和位置，或者名字和年龄。如果您想要跟踪多条数据，那么您将需要复合数据。通过 define-struct your-struct 进行初始化相当简单。幸运的是，这门课有语言参考，因为我总是忘记父母应该去哪里。

好了，接下来我学习了用这个复合数据设计世界，讲座主题是一头奶牛，它在屏幕上来回走动，当它撞到墙上或用户按下空格键时，它会改变方向。同样，我们有这些配方来指导我们的设计。对我来说，最困难的部分是编写 check-expect，这是在编写函数来比较输入和预期输出之前编写的测试。通常一个好的 check-expect 会为你编写你的函数。举个例子，如果我写(check-expect(double 2)(* 2 ^ 2))，我的意思是说，当我对 2 运行 double 时，我希望得到 2*2 或 4。写 2*2 而不是 4 实际上阐明了函数应该做什么，这对你和任何未来的用户都有帮助。

在尝试“设计测验”之前，我还完成了所有的练习题。我告诉你，没有什么比在屏幕上来回滚动这个小混蛋更让我难过的了。

<figure>[![](../Images/2247ac51f1842e3ad7321d4768b61a47.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--RJrKTP8C--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/589/1%2A-WGNQSrtIKF3oF7yrpsKrA.png) 

<figcaption>我讨厌你拉姆达男人！</figcaption>

</figure>

问题的第一部分只是来回滑动，这相对简单，因为我们已经在课堂上解决了一个类似的问题。第二部分是让它在旋转的同时旋转。这很困难，因为我必须修改我的数据结构来考虑旋转，幸运的是 rotate 函数可以接受负数，所以它可以改变旋转的方向。

最后，我们必须根据半径调整旋转速度，以实际来回“滚动”它。伙计，这是一场噩梦，公式是用来把旋转的角度改变为移动的距离，但是我只有一个速度分量。过了一段时间，我意识到，速度 dx 与转速(2pi*r/360)成比例，就能给出所需的角度变化，反正那家伙在滚动！这些食谱使设计过程更加简单，如果你强迫自己坚持使用它们，你就不会偏离主题或忘记边缘情况。