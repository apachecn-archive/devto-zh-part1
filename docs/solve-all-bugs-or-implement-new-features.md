# 解决所有 bug 还是实现新功能？

> 原文：<https://dev.to/iamlucasmreis/solve-all-bugs-or-implement-new-features>

*这篇文章最初发表在[我的个人博客](https://lucasmreis.github.io/blog/solve-all-bugs-or-implement-new-features/)上。*

大多数项目都有需要实现新特性，同时需要解决 bug 的时候。必须做出一个选择，是将更多的时间集中在解决那些 bug 上，并确保它们不再出现——让我们称这个选项为*质量*——还是实现新特性*范围*。

很多论点都是支持质量的。我最喜欢的一个论点是乔尔·斯波尔斯基在这篇经典文章中提出的。

在这篇文章中，我将提出这样的观点，*即使从商业和财务*的角度来看，*对提高质量的关注应该总是先于对实现新功能的关注*。

## 概念

首先，让我更好地解释一下我所说的质量和范围是什么意思。假设在给定的时间内需要实现 X 个新特性，而我们知道目前有 Y 个未解决的 bug。有人可能会说:

“我们将实现所有的 X 特性，并尽可能多地解决 bug。”

或者你可以说:

“我们将从根本上解决所有的 Y 错误，我们将尽可能多地实现一些功能。”

看出区别了吗？这是一个明确说明你的优先事项是什么的问题。在第一个例子中，我们将确保我们实现的所有东西都经过了良好的测试和设计，但是由于时间限制，一些 bug 将不会被考虑。在大多数情况下，bug 会被列在一个电子表格中或者一个有“优先级”属性的板上，企业会根据“财务”分析(我将在下一节讨论)来选择每个 sprint 应该解决哪些 bug。

在第二种情况下，一个团队将会集中所有的精力，至少调查每一个出现的 bug。每当决定不立即解决一个 bug 时，这是因为开发人员诊断出这个 bug 不是会停止业务或招致重大损失的事情的表现。

这就是我在这篇文章中所说的“关注范围”和“关注质量”。

## 因缺乏质量和范围而造成的损失

为了选择是专注于解决一个 bug 还是实现一个新特性，需要的一个主要标准是分析*而不是*做这些事情会给企业带来的财务损失。

不可能确切知道一个企业未来可能会有什么损失，所以我们需要对它进行估计。为了进行估算，我们需要处理不确定性。我的观点是，由于没有解决 bug 而导致的损失的不确定性与由于没有实现新特性而导致的损失的不确定性在性质上是不同的。

为了解释这种差异，我将简要介绍作者 Nassim Taleb 在他的书[黑天鹅](http://www.amazon.com/Black-Swan-Improbable-Robustness-Fragility/dp/081297381X/)中介绍的两个概念。我向任何对彻底改变自己的想法感兴趣的人推荐这本书。:)

## 中端和端端

塔勒布认为，不确定性可能“来自两个地方”。第一个地方是中等距离:观察值变化不大，或者以某种可预测的方式变化。中等身高不确定性的一个例子是“一百人随机群体的平均身高”。在你测量了五六组之后，你会对其他的平均值有一个很好的想法。哪怕组里有一个人是地球上最高的人！

然后是极端地区，在那里一个观察结果可能与其他观察结果非常非常不同，这使得预测非常困难，有时甚至是不可能的。一个例子是“一百个人随机分组的平均净资产”。每一组的平均值都有很大的不同。我们可以有 30 个，甚至 50 个平均值非常相似的组，然后突然比尔·盖茨在一个组里，然后“砰”的一声。

所以，这是我的第一个主张:

因未实施新功能而造成的损失属于中等收入国家。

一个新的特性是过去在你的业务中不存在的(咄)。这意味着，在大多数情况下，没有新功能不会造成大的损失。或者至少不会让你已经有的损失变得更大。

让我们考虑一个电子商务企业，它希望用户能够使用一种新的支付方式，比如说比特币。很难估计该公司会赚多少钱，但相对容易看出，如果比特币功能没有实现，损失不会很大。当前用户正在使用当前的支付选项进行购买，即使没有比特币选项，他们也会继续这样做。

这引出了我的第二个观点:

因未能解决 bug 而造成的损失属于极端情况。

每一个 bug，不管多小，都可能是一个更深层次问题的冰山一角。这就是为什么很难估计解决一个 bug 所需的工作量。深层次的问题可能会让企业止步不前。

信用卡表单错误反馈中的一个错误可以解释转化率下降的原因。此外，该错误可能是服务器端验证更深层次问题的表现，这反过来可能会以其他形式出现。

有些错误可以通过“修补”快速解决。但是这意味着如果有人接触了代码，或者在其他地方使用了相同的模块，错误可能会再次发生。很多时候，更复杂的重构必须小心翼翼地完成，并且必须有单元、集成和端到端测试的支持。通过这些测试，我们可以减少病毒重新爬上你身体的机会。

## 但是整个团队都要处理 bug 吗？

我们需要实现的所有新特性呢？？？什么时候会发生？

通过从根源上解决每个 bug，我们减少了新 bug 出现的机会。这意味着在不久的将来，团队中的几乎每个人都将专注于实现新功能。该项目获得牵引力，并将交付一个*更大范围的*和一个*更高质量的*。这是每个人都想要的，不是吗？

我并不是说所有的 bug 都要马上解决。我是说所有的 bug 都应该被调查，开发人员应该诊断根本原因是否会导致其他新的、更危险的问题。

## 处理 bug 的脚本

每当一个新的 bug 被报告出来，交给开发人员去解决，理想情况下我们应该遵循以下步骤:

1.  调查问题的根本原因。理想情况下，这应该成对进行，至少有一个开发人员已经完成了这部分代码。那会让事情变得更快。

2.  选择是否立即解决 bug。这个问题的答案在大多数情况下应该是“是”。

3.  编写测试来重现 bug。最好是单元测试，但是如果需要的话，不要害怕编写新的集成和/或端到端测试。通过创建新的测试，我们试图保证如果有任何东西把 bug 带回来，它将在投入生产之前被测试发现。

4.  尽你所能解决根本原因。

这种方法并不新鲜。它实际上是丰田“精益制造”革命的主要组成部分之一，称为 [Jidoka](https://en.wikipedia.org/wiki/Autonomation) 。

## 总结归纳

由于没有实现新特性而造成的损失比由于错误没有解决而造成的损失更容易预测。每一个 bug 都是潜在的业务障碍。这就是为什么我们应该始终把质量放在比范围更高的优先位置:让我们的企业生存下去。