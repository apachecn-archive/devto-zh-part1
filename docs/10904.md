# 电脑生成小说中的“结构”

> 原文:[https://dev.to/tra/structure-in-computer-generated-novels](https://dev.to/tra/structure-in-computer-generated-novels)

> “欢迎光临！我想你会发现，编写一本书的前几百个字读起来不枯燥的代码并不太难。然而，在最初的几百个单词之后...好吧，我所能建议的是你下载一本已完成的小说(从今年或任何更早的年份)并试着读完整本。用“无聊”这个词来形容这次经历并不恰当。克里斯·普莱西

每年 11 月是“全国小说生成月”(NaNoGenMo)，这是一个受更著名的 NaNoWriMo 启发的比赛。在 NaNoGenMo 中，目标是编写能够写出 5 万字以上小说的计算机代码。它始于 2013 年，唯一的规则是，你必须提供一份你的小说和源代码才有资格。

*   [2013 年回购](https://github.com/dariusk/NaNoGenMo)
*   [2014 年回购](https://github.com/dariusk/NaNoGenMo-2014)
*   [2015 年回购](https://github.com/dariusk/NaNoGenMo-2015)

一方面，纳米基因的任务看起来相当简单。下面是一部“小说”的 Ruby 代码:

```
puts "meow" * 50000
```

但是，祝你在不睡着的情况下阅读这本“喵”小说好运。无限向上扩展是非常简单的，但是人们最终会对结果感到厌倦。[无限文本生成本身很无聊](http://procedural-generation.tumblr.com/post/137167846082/infinity-and-procedural-generation-i-was-asked-on)，专注于创建一个可以生成几个“伟大”短篇故事的算法，而不是试图创作一部无聊乏味的小说，可能会更好。

但是一些 NaNoGenMo 程序员认为这种情况是一种挑战。人类能否写出一种算法，能够生成完全“人类可读”的小说？这项任务可能很困难，但在技术上似乎并非不可能。许多 NaNoGenMo 程序员已经尝试过这个任务，并且已经产生了不错的输出。进步*可以*在小说生成领域。

虽然小说生成在不久的将来可能不会被用来生成“NYT 畅销书”的小说，但这里的知识可以用来生成有趣的短篇小说，适合在视频游戏和内容工厂中使用。这个领域本身对我来说也很有趣，因为它让我有机会从整体上理解人工智能的局限性、危险和潜力(因为写故事通常被认为需要“智力”)。

我确实打算写博客，介绍可以用来让 NaNoGenMo 小说变得有趣的各种技术。然而，我不想写一篇又长又无聊的博文，让我的“喵”小说相形之下看起来令人兴奋。因此，这篇博客文章将只简要介绍三种不同的技术，基于为小说提供“结构”的想法(希望所说的“结构”使故事更具可读性)。

人类创作的文学往往有结构来证明一个故事的存在。这种结构可以像简单的大纲一样模糊到复杂的框架，比如《英雄之旅》。结构为故事提供了“秩序”，使其更具吸引力(因为故事看起来更“有意义”)。结构可以通过三种技术提供:模拟、故事编译器和框架故事。

## 模拟

模拟背后的想法似乎很简单。现实有伟大的故事，所以通过模拟现实，你也可以看到伟大的故事发生。游戏“[矮人要塞](http://bay12games.com/dwarves/)”往往被拿来作为模拟成功的例子。要开始一个游戏，你首先生成一个完整的世界，每个文明、地方和角色都有自己的模拟历史。你可以浏览这些生成的历史，找到生成的世界的不同方面之间的关系，并得到娱乐(甚至不需要实际玩游戏本身)。

NaNoGenMo 中还使用了其他模拟来生成小说:

*   [环游世界 X 篇维基百科文章](https://github.com/dariusk/NaNoGenMo-2015/issues/142)是一部关于两个人环游世界并参观不同地点的小说
*   模拟幻想小说是计算机生成的小说，讲述了一群幻想冒险家寻求摧毁邪恶的麦高芬的故事
*   《到达深渊底部的大胆之旅》是一部讲述英雄寻找新麦高芬的小说

然而，模拟也有其弱点。除了规划一个模拟的难度之外，还有一个担心是模拟的输出本身可能读起来很枯燥。根据约翰·奥诺的说法:

> 模拟绝对是一种产生“情节”的方式，在某种意义上说，这些事件具有内在的一致性、因果性和逻辑性，但它不以任何方式过滤读者感兴趣的内容。从小说读者的角度来看，现实中发生的大多数事情(或现实子集的任何程序模拟)都不是很有趣，即使是那些潜在的非常有趣的事情(观看功夫电影是一回事，但阅读同一部电影的战斗场景的口袋妖怪式副本会非常无聊)。

《矮人要塞》是另一个例子，说明模拟无法“过滤”掉无趣的东西。每有一个精灵接管矮人王国的有趣故事，就有成千上万个关于一个矮人决定从“鱼清洁工”转行到“铁匠清洁工”的沉闷故事。

改进模拟的可能方法可以是改进模拟过程中生成的文本(阅读解释为什么侏儒悲伤地决定换工作的美丽段落可以使这样的事件像游戏中可能发生的罕见和独特的事件一样引人入胜)， 在模拟中输出尽可能多的细节(提供“铁匠清洁工”和“鱼清洁工”的详细工作描述可以使这两种工作读起来更有趣)，并缩小模拟的焦点，只关注重要的方面(如果你认为关于侏儒职业发展的故事很无聊，那么不要在模拟中建模)。

## 故事编译器

克里斯·普莱西(Chris Pressey)在创作纳米根莫小说《决定命运的时刻》(T1)时，使用了一种(T2)的“故事编辑”方法(T3)来组织他的小说。从本质上讲，这个程序首先会为一个短篇故事生成一个看似合理的大纲。然后，计算机将使用该大纲作为进一步生成文本的基础。通过这种方式，程序能够建立一个连贯有趣的情节，同时也过滤掉无趣的想法。然后，大纲本身将通过额外的步骤进一步完善。(生成的小说本身将是由一个支配性的“情节”统一的一系列短篇故事。)

这种方法对于增加额外的“授权技术”也是有用的，这是纯模拟方法所不能做到的。克里斯·普莱西(Chris Pressey)能够在“故事编译器”中[成功实现“契诃夫之枪”———如果一个故事需要契诃夫之枪的存在，那么就写出这把枪，然后在故事的开头和结尾插入对这把枪的描述。这种方法在模拟中显然是不可能的，因为根据 Chris 的说法:](https://github.com/dariusk/NaNoGenMo-2015/issues/11#issuecomment-158966224)

> 你不能只在事件发生时输出它们。你必须回去检查它们&有选择地编辑它们。所以你必须将事件保存在某种数据结构中。这导致了类似编译器的架构。

克里斯·普莱西的作品可能是最“成功”的电脑生成小说，至少格雷格·肯尼迪是这么认为的...

> 略读前我读了整整三章。前两个之后，我正准备向前跳，但后来 Nebulon 出现了，事情又变得有趣了！
> 
> ...但在那之后，我想知道可能会发生什么其他情节事件，所以我开始滚动...
> 
> 所以我想那是 2770 个单词。还不错。

相比之下，克里斯·普莱西的目标是让人们阅读大约 1500 个单词。克里斯不得不担心的最大问题是将系统扩展到 50，000 个单词...他不仅要开发故事编译器使用的事件，还要开发将这些事件处理成实际文本所需的所有“步骤”。虽然不难，但确实需要努力，他不可能在 11 月完成这项任务。[克里斯评论道](https://github.com/dariusk/NaNoGenMo-2015/issues/11#issuecomment-160610517):

> 另外，我应该在最后一周尽可能多的增加新的支线剧情，所以也许你会看到“4。在太空中滞留”读完第三章后，也许你会读到更多的单词...是啊，我可能应该...但是在我发布这本书的时候，我已经厌倦了阅读《宁静星光历险记》(我确信我自己已经读了 50，000 字)，生病也没有什么帮助。我将满足于它是实现这一目标的方法的概念验证。

## 框架故事

也许给故事提供结构的最简单的方法就是“伪造”。如果你提供几个词来建立一个“框架故事”,证明为什么各个段落紧挨着，那么阅读故事的人会相信故事中一定有某种结构，并能够基于这种结构来消费它。这是一个特别有成效的行动过程，因为它根本不需要编写太多代码。所需要的只是程序员的一些创造力来“说服”读者。

马丁·奥利莱在他的小说《西部沙漠》中使用了这种方法，这是一部幻想世界的游记。小说中的每一个条目都只是对一个城市的描述。然而，马丁倾向于提供暗示作者实际上是从一个城市旅行到另一个城市的线索，并且还提供程序生成的城市地图。因此，一个人会被诱惑去适当地阅读内容，以了解更多关于各种各样的幻想城市。

不仅仅局限于幻想城市。这可以应用于:

*   [充满炼金术食谱的食谱](https://github.com/dariusk/NaNoGenMo-2015/issues/172)
*   [一系列关于纳米基因竞赛的假新闻](https://github.com/dariusk/NaNoGenMo-2015/issues/159)
*   [关于赛博朋克公司的简介](https://github.com/dariusk/NaNoGenMo-2015/issues/168)

一个“框架故事”甚至可以通过在更广泛的作品中提供一种连续性的幻觉来诱导。《生财的{ {巨人}}他的身体里没有心脏是一系列短篇故事，讲述了一位王子与邪恶的巨人作战的故事。在每个故事的结尾，王子打败了巨人，却变成了另一个巨人。然后一个新的王子出现了，去对抗新的邪恶巨人。这个循环会无休止地重复超过 60，000 个单词。

一个“框架故事”的方法可能是有前途的，但它可能无法让读者贯穿整部小说，[至少根据 Chris Pressey](https://github.com/dariusk/NaNoGenMo-2015/issues/98) 的说法:

> 我不认为“许多小作品”策略在回避“无聊问题”上是非常成功的...如果说有什么不同的话，那就是从头到尾阅读 500 个生成的食谱可能比阅读一个相同长度的生成的故事更难。

换句话说，整体(“小说”)可能小于总和(“几百个短篇”)。短篇小说作为“独立的片段”可能更好，一次一篇地阅读，然后拼凑在一起，用一个借口“框架故事”来证明其合理性。然而，使用“框架故事”有一个好处...这使得故事生成器本身更加灵活，避免了可能导致小说读起来乏味的重复，至少 John Ohno 是这样认为的:

> 然而，许多小作品确实抵消了试图保持内部一致性和连续性的问题——保持一致性和连续性迫使生成器被简化或约束，以便以新颖的长度产生更无聊的文本。因此，有一个选集格式可以间接帮助防止小说无聊或公式化，因为它解释了在选集格式之外可能被视为混乱或错误的新奇来源的存在(就像明确的非编年史故事、极其抽象和模糊的散文、更换叙述者或拥有不可靠的叙述者一样)。

## 结论

模拟、故事编译器和框架故事是组织计算机生成小说的非常有用的方法，使它们对人类消费来说更“可承受”。显然，还有其他技术(如果我有时间，我将在以后的博客文章中讨论这些技术)。你可以使用多种方法，希望产生更有趣的结果。不过，要提高机器的性能，还需要做更多的工作。机器可能无法产生与人类同等的文学作品...还没有。但是随着程序员意识到他们工具的优势和局限性，机器的能力正在慢慢增加。

## 附录

顺便说一下，我写的每一篇关于电脑生成文学的博文都是电脑生成的，包括这篇。(人类一直以来都在写人工智能，这听起来很傻。还不如给 AI 编程写自己。)你可以在这里查看用于生成这篇博文[的源代码，格式为 Markdown。这篇博文的结构非常简单，可以实现自动化:一个介绍部分、三个 bulletpoint 部分(每个 bulletpoint 关注一种不同的技术)和一个总结部分。各个部分只能通过一个“框架故事”(特别是普通博客文章的格式)统一在一起。是很基础的算法，绝不是“强 AI”。但这才是重点。如果这是我现在一个小时能做的，想象一下未来的程序员会做什么。](https://gist.github.com/tra38/af37faf62764ca408f892aa08cccd3f9)