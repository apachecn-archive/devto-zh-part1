# 即时文档

> 原文:[https://dev.to/jlhcoder/just-in-time-documentation](https://dev.to/jlhcoder/just-in-time-documentation)

*这篇文章最初发表在[我的博客](http://jlhood.com/just-in-time-documentation/)T3 上*

敏捷宣言中最有趣的信条之一是重视“工作软件胜过全面的文档”，这经常被误解为“文档不重要，写代码就行了。”这幅[呆伯特](http://dilbert.com/)漫画完美地捕捉到了这种情绪:

[![Dilbert: Agile Programming](../Images/3cfd49819f89de2318a2e3bdeaf5d439.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--YQ8Vz_9j--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://pbs.twimg.com/media/BxmTfq3CMAAkEwB.png)

经理不是唯一误解这一点的人。我见过软件开发人员将这一原则作为完全放弃文档的许可证。我看到的另一个常见的陷阱是开发人员陷入了错误的困境，认为他们要么需要瀑布级的设计文档，要么根本不需要。事实上，正确的平衡是在中间的某个地方，但它往往会根据情况而变化。在这篇文章中，我将介绍一个我喜欢称之为“即时文档”的策略，它帮助我为任何给定的特性或项目找到正确的平衡。

## [](#design-documentation)设计文件

准时制文档的一般思想来源于这样一种认识，即编写代码就像任何其他形式的写作一样。

有时候在写作中，你知道你要写什么，你就去写。写电子邮件就是一个很好的例子。通常，不需要准备。你只需要写出来，做一些小的修改就可以了。类似地，在代码中，有时你知道你要在哪里做改变，你只是去做，比如修复一个小的 bug 或者给类增加一个小的增强。你写下修改，做一些小的修改，你就完成了。

然而，有时在写作中，你去写一些东西，发现你不知道从哪里开始或写什么。在你准备写草稿之前，你需要把你的想法组织好。写作过程有一个步骤叫写前，就是为此而生的。你可以做一些自由写作来集思广益或者做一个提纲。你可以写一两个段落来阐述你想要表达的关键观点。在某个时候，你的想法被组织到你准备写作的程度。

我将完全相同的原则应用于编写代码。有时我想做些改变，但我不知道从哪里开始。此时，我打开一个基本的文本编辑器，开始做写前练习。我不担心语法或格式，因此有了文本编辑器。我非常非正式地写下我试图解决的问题，我所知道的和我有任何公开的问题。我想出了一些解决问题的方法。我可能会列出一些可能需要创建或更改的文件/类。当我这样做的时候，解决方案变得更加清晰，在某个时候，我能够把我计划要做的改变的一个简单的项目列表大纲放在一起。在这一点上，我可能会找一些人和他们一起浏览大纲，以进行理智检查，确保我没有遗漏任何重要的东西。然后我写下我的改变。我通常会把这类写前练习保存在某个地方，比如项目的问题跟踪。

有些人可能会称之为编写实现或详细的设计文档并进行评审，但我发现这些术语往往会使人们想到精致的文档和重量级的评审过程。我喜欢把它看作是写作前的准备，因为它有助于我专注于做最少的努力来确保我写的是一个高质量的解决方案，而不是浪费时间润色一个文档。

随着一个特性的大小和复杂性的增加，所需的前期编写工作也在增加，尤其是当多个开发人员将在一个特性上进行协作时。以下是在这些情况下保持文档轻量级的一些技巧:

1.  当协作者的数量很少时(大约 2-4 人)，预先编写就像一个工件，证明将要编写特性的人已经讨论过它，并且在如何做这件事上意见一致。这里重要的是讨论和普遍共识，而不是一份完美的、润色的文件。
2.  请记住，在写作过程中，前期写作是一个笼统的术语。它提供了像大纲这样的示例方法，但是有许多不同的方法来组织你的思想。同样，对于复杂的功能，不要认为编写设计文档是唯一可用的前期编写形式。编写原型代码是另一种很好的前期工作。考虑编写一个关键 API 的接口和一些示例客户端代码。或者使用在线模型工具来创建简单的 UI 模型。尽一切努力帮助你和其他合作者理解你计划构建的东西。

## [](#user-documentation)用户文档

用户文档不同于设计文档，因为它对完整性有更高的要求。如果我正在为一个将在团队之外使用的产品或库编写代码，编写好的用户文档有几个好处。它通过改善用户对您的产品/库的初始体验来提高采用率。它还为您的项目增加了一定程度的修饰，这可以增加用户对您的代码实际工作的信心。

然而，即时文档的原则仍然可以通过以下方式应用于用户文档:

1.  在你真正拥有用户之前，不要写用户文档！每个人都想相信他们正在编写下一个 Spring 框架，但是在你真正拥有用户之前，花时间让软件工作得更好。
2.  从适量的文档开始。对于大多数 github 项目来说，一个写得很好的 README 就足够了。“完整”的文档并不意味着完整的用户手册。这意味着你对你写的文档很用心。根据用户数量适当地调整文档。这里有一篇很棒的[帖子](https://dev.to/codemouse92/your-project-isnt-done-yet)详细介绍了如何写一篇好的自述。
3.  为合适的受众编写文档。为开发人员库编写文档？您可能只需要 pom.xml、build.gradle 和一些展示每个特性的示例代码。

## [](#conclusion)结论

希望这有助于消除敏捷等同于“没有文档”的神话文档是编写高质量软件的一个重要部分，但是考虑到手头任务的规模和复杂性，它应该仅限于必要和适当的内容。即时文档是我实现这一目标的策略。

试试看，让我知道你的想法！