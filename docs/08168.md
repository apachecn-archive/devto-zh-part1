# 代码组件时代的编码

> 原文:[https://dev.to/jonisar/coding-in-the-age-of-code-components](https://dev.to/jonisar/coding-in-the-age-of-code-components)

这是代码组件的时代。如今，Web、React、Angular、Vue 甚至节点组件几乎是所有东西的构建模块。

这是有道理的。软件应该通过将更小的、孤立的功能组合在一起来构建。模块化和可重用性是可组合性的关键。当设计软件时，我们应该设计一个更小功能的组合。当我说小的时候，我并不是指 X 或 Y 行代码。我所说的“小”是指它处理单一的焦点或责任。

[![alt text](img/0dc8f68f07118e5864aac37e828041a3.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--gEUa4FWJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/xkgrb64zxr8lx4ayty72.png)

# 关于复用性和模块化

越来越多的情况下，特别是当涉及到 web 组件时，似乎设计隔离的和可重用的组件不仅比以前简单，有时这是设计它们的唯一正确的方式。

那么，为什么实现代码组件真正的可重用性仍然是一个挑战呢？答案不在于设计，而在于这个问题**我们如何创建、找到和使用这些组件**。

# 微包不是答案

显然，我们不想到处复制粘贴组件。重复很不好，不用细说。问题是，直到现在，复制代码的唯一替代方法是将这些组件作为包或“微包”发布。

我觉得小组件不应该变成包。包不适合使它们实际上可重用，而且它们增加了太多的复杂性。原因如下:

*   **初始开销**:为每个小组件创建一个新的存储库和包，你必须创建一个存储库，包样板(构建，测试，等等)。)并以某种方式使这一过程适用于大量组件。

*   **维护**:修改一个库和一个包需要时间，并且迫使你经历多个步骤，比如克隆、链接、调试、提交、重新发布等等。构建和安装时间迅速增加，依赖地狱总是感觉很近。

*   **可发现性**:很难(如果不是不可能的话)组织和搜索多个存储库和包来快速找到您需要的组件。人们经常使用不同的术语来描述相同的功能，并且没有单一的真实来源来搜索和信任。

# 实现可重用性

我从最后开始——我们构建了一个开源项目来解决这个问题。它被称为位的[，它使我们能够在您的工作流程中快速创建可重用的组件，将它们导出到一个为称为](https://github.com/teambit/bit)[范围](https://teambit.github.io/bit/bit-scope.html)的代码组件设计的分布式存储库(它存储、组织、管理、测试和构建您的组件)，然后在存储库和应用程序中的任何地方使用它们。组件可以作为一个虚拟的 API 使用，除了应用程序中实际使用的代码之外，什么也不提取。

[![](img/9c3e0034c9ba2436afcd68af18adb60b.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--X4JqACsc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://storage.googleapis.com/bit-assets/gifs/leftpad2.gif)

创建 Bit 是为了解决上述三个问题。要做到这一点，它必须给组件提供软件包所不能提供的一切。它必须使它们能够快速创建、简单维护并易于查找。Bit 专为代码组件而设计，它引入了一些新功能，使之不仅可行，而且实用:

Bit 附带了一个可重用的、隔离的组件环境。这个环境也是可配置的，节省了为新组件创建新样板的开销(这可以在您正在处理的任何项目中直接完成)。这个环境还负责使用您选择的任何框架来测试和构建您的组件。

为了组织、存储和管理您的组件，Bit 使用了“作用域”。Bit Scope 是一个分布式的虚拟组件层，位于源代码存储库之上(之外)。您可以将组件导出到一个范围中，在这里它们将被存储、组织和重用。范围是分布式的，可用于通过上下文、协作者或其他抽象方法来组织组件。Scopes 简化了维护大量可重用组件的工作，将它们保存在一个地方，同时单独修改和使用它们。

Bit 还使用范围组织系统和内置语义搜索引擎等功能解决了可发现性问题。

# 分布和集中

分销有很多好处，既实用又能让事情远离商业利益。然而，集中化有其自身的优势，尤其是在协作和工作舒适度方面。为了让工作变得更容易，并作为一个团队进行协作，我们还建立了一个名为 bitsrc 的免费[社区中心。它对开源软件是免费的，而且永远都是。](https://www.bitsrc.io)[这是我和我的团队制作的效用函数](https://www.bitsrc.io/bit/utils)的示例范围。

# 现在怎么办？

Bit 正在发挥作用，但它也是一项正在进行的工作。例如，Bit 被设计成语言不可知的，并使用外部驱动程序来处理不同的语言。Javascript 是我们添加的第一个，很快会有更多的。

还应该添加其他功能，例如自动依赖定义、源代码索引、组件质量度量、半自动语义版本控制等等。

目前，使用 [Bit](https://github.com/teambit/bit) 和/或 [bitsrc](https://www.bitsrc.io) 可以让我们创建、维护和重用越来越多的“构建模块”,包括 Web 和 React 组件、实用函数、小模块等等。这不仅加快了工作速度，防止了重复，而且符合软件应该如何组成的基本原则。一步一步来。

你可以自己尝试一下，欢迎在 GitHub 上投稿。