# 纪念碑

> 原文：<https://dev.to/designfrontier/monument-5h05>

在过去的几年里，我一直在为 nodejs 开发一个新的应用程序框架。Monument 目前正在发布它的第二个主要版本。

## 什么是纪念碑

纪念碑关注三件事:

1.  分离的应用
2.  开发者体验
3.  性能和可扩展性

### 解耦应用

当我开始在 monument 上工作时，它产生于使用发布/订阅架构来打破应用程序中的耦合的想法。其内部架构是 evented 微服务架构对应用本身的应用。

这在 monument 中的工作方式是，每条路由监听一个事件，我们通过事件管理数据，自定义事件创建很容易。这使得开发变得很棒，并允许独立开发功能。例如，这是一个路由的事件监听器:

```
events.on(’route:/:get’, (connection) => {}); 
```

Enter fullscreen mode Exit fullscreen mode

它专门监听根路由上的`GET`请求。快速说三遍。您的处理程序接收一个`connection`对象，该对象包含处理请求所需的所有内容。

我们将在关于使用 monument 中的事件来分离应用程序的后续文章中对此进行更深入的探讨。

### 开发者体验

Ruby on Rails 做得非常好而大多数节点框架做错的一件事是开发人员体验。因此，正如我一直在写纪念碑，它侧重于使项目站起来容易。我还通过 CLI 工具寻找自动化常见开发任务的方法。可以用`npm i -g monument-cli`安装 CLI。

CLI 工具提供了新的项目创建、路线搭建和数据搭建工具。这意味着您可以在用 JSON 描述您的路线的时间内粗略地完成您的整个 REST API。

在开发者体验中起关键作用的另一件事是纪念碑应用的解耦性质。您可以专注于您正在做的事情，而不必担心应用程序的其余部分。

在接下来的几周时间里，我们将逐步创建一个简单的 web 应用程序，以及如何使用这些工具来完成它。

### 性能和可扩展性

纪念碑很快。它被设计得很快。但这也使得扩展应用程序中速度较慢的部分变得容易。

因为它使用事件总线，所以我们可以将任何我们想要的东西推到一个工作进程中，当它完成时触发正确的事件。需要裁剪图像？将其转入一个工作进程，并在完成时触发一个事件。接收者已经在等待那个事件，所以在消费者端不需要任何工作。

需要将一个流程扩展到另一台服务器？同样的交易...应用程序各个部分的封装保持了这一点。应用程序的其他部分也不需要知道或关心发生了什么来生成它们正在侦听的事件。

## 怎么用？

所以这是容易的部分！抓取 CLI 工具创建一个新的项目文件夹并运行`monument new .`。砰。你的第一个纪念碑项目已经准备好了。

## 但是我能用它做什么呢？

几乎任何你想用 node 做的事情。它支持带有一个现成的配置标志的 web 套接字。它支持 http2 或 spdy，或者其他任何简单的 http 风格的服务器协议。作为 REST API 或 web 应用程序，它非常好用。

它现在的一个弱点是它仍然只支持服务器端渲染的单一模板库。这是即将发布的 3.0.0 版本中正在纠正的问题。一旦登陆，它将在服务器上本地支持 react，以及大多数其他主要的模板库。

我现在正在用它来运行这个网站，它使导航的逐步增强变得超级容易。点击右箭头键...又快又干净。

我还在工作中使用它进行图像裁剪服务，以及我正在使用的一系列其他 web 应用程序。这使得新项目的开发速度非常快。这也是我写它的部分原因。

所以你应该可以用它来做任何你想做的事情。去吧！你不会后悔的。

主文档网站和 [github repo](http://github.com/ansble/monument) 有更多关于使用的细节。