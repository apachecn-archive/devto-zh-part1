# 良好的编码方式

> 原文:[https://dev.to/tonyhicks20/good-coding-manners-d3e](https://dev.to/tonyhicks20/good-coding-manners-d3e)

我最近接手了一个有很多遗留问题和不良实践的项目，我想列出一些使用代码作为交流手段的一般准则，以及如何尊重你的工艺和必须与你一起工作和/或接替你的同行。

为什么需要软件开发人员？是写代码维护吗？我认为没有。

编码是达到目的的一种手段。本身并不是目的。它只是我们用来完成特定业务案例的工具。没有那些商业案例，就没有对开发人员的需求。如果我们有一种媒介可以更好地表达自己，我们可能会用它来代替代码。

我们的工作是拨乱反正。以一种逻辑清晰的方式对世界建模，这样计算机和其他人都可以理解我们在做什么。如果我们错过了这些目标，我们作为专业人士就失败了。
请注意，这里其他人也是一个因素。你不仅仅是用代码来指导计算机，也是你和他人交流的一种方式。

良好沟通的关键是简单。

无论是企业还是用户都不关心你的框架实现有多优雅，也不关心你使用了多少令人惊叹的设计模式。你的工作是交付，把事情做好。任何阻止或禁止这种事情发生的都是你的敌人。

我不是说不要使用新的、闪亮的框架或设计模式。我只是说它应该有一个可行的用例。

你的代码被阅读的次数要比你写的次数多得多，所以当你有疑问时，保持简单。

真实世界的建模引入了它自身的复杂性，真的没有必要把事情变得比应该的更难。

因此，这里有一些我想灌输给那些我现在坚持并经常试图破译其代码的人的东西。

## 建筑

在某个时候，你将不得不开始定义数据结构，并让它们相互引用和通信。对于这一点，什么是有效的，什么是无效的，有明确的规则。

使代码逻辑清晰地流动。

这里有许多思想流派，但是我所学到的对我来说非常有效的是将你的系统分成从一般到特殊的层次和模块。一个模块可以与同一层或更一般的层上的另一个模块通信，但不能与更具体的层通信。这有助于您清楚地看到什么依赖于什么，如果业务有更多的需求，您可以轻松地在更通用的层之上进行构建。

## 清理不需要的东西

代码不是你的朋友，不管你对它的感觉如何。写了这本书你可能会非常自豪，但这是有代价的。其他人(包括你未来的自己)必须阅读并理解它。它通常会创建对其他代码的依赖，这会使项目变得更加难以更改。

如果不再需要，删除它。就是这样。不要多愁善感。

这就是源代码管理的作用。如果某个特定的时候又需要它，你总是可以回去得到它，但是无论如何，它都需要大的重构。将它保留在您现有的代码库中意味着您必须继续维护对您或业务没有任何价值的代码片段。这也将增加新加入团队的人的学习曲线。

## 一致性

定义具体的做事模式，并坚持下去。

“哦，你需要一个网站实例的特殊设置？它就在这里，你用这个工具把它插入数据库，然后调用这个服务把它放进你的代码里。”

那是一次很好的经历，对吗？

现在对比一下我现在正在处理的事情:

“有时在这个表中，但有时在另一个表中，但也可能在这些特定的文件中，因为过去有人想创建一种特定领域的语言。然而，有人对此感到恼火，所以它也被插入到一个配置文件中，如果它不在这些位置中的任何一个，那么它很可能在现在与代码一起存在的这个 XML 文件中。”

我对这些方法中的任何一种都没有问题(只要可能，我更喜欢数据库)，只要它是一致的。我不反对改变这些事情，但是你需要冒险去改变它。

使用标准，使每个人都在同一页上，并且清楚整个系统发生了什么。

引入新的设计模式/框架，基本上是实现同一事物的多种方式，增加了系统的复杂性，因此增加了维护和学习曲线。

## 你能，并不代表你应该

我经常看到开发人员学习新的东西，你瞧，多巧啊！他们接下来要做的事情是在一个完美的地方尝试他们的新玩具。

请退一步，正确理解需要什么，而不是为了引进新的东西而引进新的东西。

不是每个人都和你一样。他们可能没有你想象的那么聪明，也没有兴趣去学习你所建立的框架的每一个特性。我发现 80/20 规则在我使用过的框架和库中非常有效，因为我需要做的 80%的事情可以用相关工具的 20%的能力来完成。

我遇到过一些非常聪明和有动力的人，并和他们一起工作。我也和许多我会用不同的方式描述的人一起工作过。没关系，它会发生的。

我总是想起矿井的比喻。你有几个非常聪明的工程师来计划如何做事情和下一步应该做什么，然后你有一群人来实际挖掘。它们都很重要。他们都履行了自己的职责，这可能并不理想，但有时你会和那些实际上并不在乎的人一起工作。

不幸的是，你的公司可能会雇佣这样的人。是的，他们可以把事情做好，但不会是那么美好和考虑周全。使用你能找到的每一个聪明的设计模式和框架特性将会彻底削弱它们。初级开发人员也是如此。这也增加了风险，他们可能不完全理解当改变某些东西时所有的含义是什么，并可能在以后导致一个真正大的问题。

## 注释和文档

我听说有人反对这些事情。

“代码应该是自文档化的”和“文档化意味着你现在有两个地方来更新同样的东西”。

我同意这些说法，但它们是指导方针而不是规则。

注释每一行代码，说明**代码做什么**是没有意义的，如果这是必要的，那么你的代码库有严重的问题。

然而，当某人不能理解你为什么以某种方式做某事时，评论为什么以某种方式做某事可以为他们节省大量时间、精力和痛苦。我并不是说它必须到处都有，知道别人什么时候可能需要它总是一个技巧，但我认为作为一个经验法则，后退一步，试着把你的代码看作是第一次阅读它的人，并问“为什么？”。

文档化并不意味着把你正在编写的所有功能都拿出来，并为每个功能画出流程图。

专注于包含重要细节的高级视图。

与第三方集成？很好，用事件序列图中来回传递的标题/模式记录 URL。

这些类型的事情不太可能随着时间的推移而改变，也不总是清楚谁给谁打电话，什么时候打，用什么信息打。

这绝不是你应该做的所有事情的完整列表，但是这些是最近由于我每天与这个系统打交道而在我脑海中出现的原则。

让我知道你的想法和我错过了什么！

快乐编码:)