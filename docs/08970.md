# 穿着不熟悉的鞋子走路:Ruby 对我来说感觉很奇怪。

> 原文：<https://dev.to/_bigblind/walking-in-unfamiliar-shoes-ruby-feels-weird-to-me>

*封面图片鸣谢:[克里斯·埃文斯](https://www.flickr.com/photos/drumminhands/6269207855)T3】*

我使用 Python 已经很多年了，但是最近我写了我的第一个 ruby。有很多事情让我觉得很奇怪，我想当你用一种对你来说是新的语言写作时，这是正常的。

我要从对我来说最奇怪的事情开始

## 没有用于函数方法调用的方法

在 python 中，`foo.bar`这个表达式的意思是“在当前作用域和任何外部作用域中寻找一个名为`foo`的东西，然后从中获得一个名为`bar`的属性。”

在 ruby 中，这个表达式似乎是什么意思，据我理解(请让我知道我的心智模型是否正确)“在当前作用域或任何外部作用域中查找一个名为`foo`的东西。如果是方法，不带参数调用，直接用值。在结果上，寻找一个名为`bar`的方法，不带参数地调用它。

所以比如:`gets.chomp`调用方法`gets`，对结果调用`chomp`。(在 ruby 中，这从 stdin 获取一行输入，然后删除尾部的空白。)

在 Python 中，为了得到相同的结果，如果函数有相同的名字，你应该:`gets().chomp()`

我经常觉得，如果 ruby 只需要方法调用的括号，那么它需要的语法就少多了。例如，如果您可以使用`this.field`来访问实例字段，那么您就不需要使用`@`。没有必要让`instance.method(:foo)`方法去访问一个方法，因为你只需要通过引用它的名字来访问它，而不需要添加括号(例如`instance.foo`)

但是最后，我想我只是觉得奇怪，引用一个变量和调用一个没有参数的方法有完全相同的语法。

## 一些更小的东西

一开始你用`end`结束街区的方式感觉很奇怪，但是我真的很喜欢这样。大多数编辑器都会自动缩进代码块，所以没有必要像 Python 那样在语言中强制执行。我喜欢 ruby 的`end`的一点是，它清楚地显示了你要关闭多少代码块。如果你有很长的缩进代码块(是的，我知道你不应该这样)，在 Python 中通常很难看到你正在关闭哪个代码块。

我发现的另一件奇怪的事情是,`require`不把东西加载到它们自己的名称空间。如果在 python 中使用`import something`，那么`something`模块中的任何内容都可以在`something`名称空间下使用。大多数 ruby 程序似乎通过把事情放在一个`module`声明中来解决这个问题，但是必须从语法上声明这感觉很奇怪。不过，我确实喜欢`load`和`require`之间的区别。

重新开课是我发现的另一个有趣的花絮。如果你做了

```
class A
    def foo
        # do stuff
    end
end

class A
    def bar
        # do stuff
    end
end 
```

在这段代码之后，类 A 将有一个`foo`和一个`bar`方法。我发现这在交互式 ruby shell 中很有用，但是我想这在更大的 ruby 项目中可能会令人困惑，因为这个类声明中没有告诉我这个类的另一部分是在其他地方编写的。

我不确定我喜欢隐式回报。作为一个成长于 pythonista 的人，我一直相信明确的比含蓄的好。

我仍然需要完全理解 blocks、Procs 和 lambda。

就这样结束了。