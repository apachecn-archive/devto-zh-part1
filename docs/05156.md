# 干燥的 3 个步骤

> 原文：<https://dev.to/rysilva/3-steps-to-dry>

不要重复你自己:这是一个需要记住的关键重复。避免代码库中的重复可以节省开发时间并提高可维护性，但是要做到这一点并不容易。重复可以以多种形式出现，从复制/粘贴低级功能到多个具有独立实现的相似 UI 组件。我将把重点放在后者，因为我提出了三个帮助我干燥的步骤。

## 1。没有模式

在痴迷于干之前，不要忘记它的对应词，YAGNI:你不会需要它。对 DRY 的追求会导致过度工程化:增加了处理永远不会出现的模式的复杂性。虽然智能工程总是灵活的，但是如果您认为重用可能永远不会发生，那么要警惕增加大量成本来实现重用。

## 2。建立模式

如果系统中有一个模式，让它浮现出来。你等待的时间取决于你的团队和你的系统，但是总是积极地鼓励那些将整体设计推向可以抽象实现的设计细节。这也确保了用户的一致体验。

## 3。对模式进行编码

一旦建立了模式，就对模式进行编码。不要等太久！在这一点上，创建一个可重用组件的成本有明显的好处，并且您希望在下一个特性出现时利用这个好处。如果你等得太久，你就付出了双倍的成本:重复自己的初始成本，以及后来的重构成本。

## 案例分析:“类别表”

几年前，我启动了一个新的应用程序，我需要一个类似表格的组件，其中的行表示类别，扩展后可以显示一个表单。有一些这样的桌子，但是都不一样。我编写了可以在表之间重用的 CSS，但是我没有试图为这些“类别表”编写一个单独的组件。我知道设计是不断变化的，让它足够通用会带来很多复杂性。

最终，很明显我们会在很多地方使用这个类别表。因此，当使用表的变体设计新特性时，我确保新的迭代与旧表的需求一致，为可重用的实现奠定基础。

当我们发现应用程序中的不同表格实际上是同一事物的实例时，我的同事创建了一个足够灵活的 Javascript 组件来处理所有表格。然后，我重构了所有现有的表，以使用新的组件。新的类别表不断出现，但是我们能够继续使用可重用的组件，节省了许多天的开发时间。