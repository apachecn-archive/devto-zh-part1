# 巧合编程(不要这么做)

> 原文:[https://dev . to/deco EUR _/programming-by-coincidence-don-do-it-7cp](https://dev.to/decoeur_/programming-by-coincidence-dont-do-it-7cp)

《务实的程序员》一书不约而同地介绍了编程的概念。简而言之，这意味着在没有真正理解你在做什么，你的代码片段或应用程序如何工作的情况下编写代码。虽然表面上看起来一切都很好，但它可能会因为你不知道的原因而崩溃。我将在这个帖子中分解这个问题，如果文本中有明显(或不那么明显)的错误，请纠正我。

## 即将发生的事故

这个概念本身已经被分解为以下几个“意外”。

### 实施事故

代码的编写方式可能会导致意外的实现。也许你依赖于你正在使用的库的一些未记录的特性/错误，或者当你按照一定的顺序进行方法调用时发生的一些副作用，没有正确初始化你的参数等等。等等。最后，你依赖于未记录的特性或边界条件，它们只对你的代码起作用，但是当其他东西改变时，它们经常/很容易地被破坏。

### 语境的偶然

上下文的意外意味着你为一个特定的场景创建你的代码，但是有些方面你没有考虑到。你可能会在假设有 GUI 的情况下编写你的模块，但情况可能并不总是这样。当你依赖不一定存在的东西时，就会发生上下文意外。我还想将复制粘贴代码作为一种上下文意外的味道；如果你在复制一些东西(一定要考虑不要重复自己的话)，你需要意识到这两种情况，它们有什么共同点，它们有什么不同。

## 假设是所有错误之母

基本上，这两种事故都源于假设。你假设代码需要以它本来的方式编写，你假设 API 做了你认为它有意做的事情，即使这看起来很奇怪。你假设你的客户是有文化的和聪明的，你知道软件运行的环境和背景。你假设你的假设是正确的:)

### 如何避免巧合编程

如果这个问题有一个名称，并且人们已经写了关于它的文章，那么也一定会有一个简单的解决方法。对吗？不。没有简单的一步一步的指导来一劳永逸地解决这个问题。需要有意识的努力和专注来避免这个陷阱。

首先也是最重要的一点，永远要意识到自己在做什么。不要自动驾驶，做出简单的假设。调查事物及其运作方式，测试并记录你的假设以供参考。测试你的假设，并当场发现它们是错误的...那是一颗躲过的子弹。

你不应该“蒙眼”编程。试着理解基本概念和你的(和所有相关的)代码是关于什么的。此外，在使用遗留软件时，很容易看到类似的实现作为参考，甚至复制粘贴它来获得一个良好的开端。但是试着问你自己一个问题:为什么它被做成这样有原因吗？你能改进代码库吗？如果你这样做了，那些跟随你的人可能会感谢你！

我为什么要写这个？作为一个提醒，因为这件事，我最近碰到了一些很难找到的 bug。如果人们注意他们正在做的事情，这些错误本来是很容易避免的。每个人都有犯错的时候，这很自然。只要努力意识到你在做什么来最小化由巧合编程引起的问题。

如果你成功了，恭喜你！如果有什么能从邮报上得到的，那就是这个:

> 不要通过巧合来编程