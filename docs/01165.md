# devo PS–我们应该从哪里开始？

> 原文：<https://dev.to/iedaddy/devops--where-should-we-start-2pff>

从最疼的地方开始。大多数人都在寻找一份如何实现 DevOps 的清单，但很少会这么简单。问题是每个组都处于 DevOps 转型的不同阶段。因此，对于每个组织来说，每个旅程的“起点”都是不同的。

然而，DevOps 也是一种建立在自身基础上的文化，每一层都建立在之前的基础上，因此在这方面，您需要在建立下一层之前准备好构建模块。我经常称之为“乐高”方法。您有一堆单独的构建模块，在一些组织中，您会有一些更成熟的领域，其中几个模块已经整合到一些基本结构和流程中，您需要形成一个策略，将它们整合到一个内聚的 DevOps 结构中。

这里有一些我认为每个组织为了建立 DevOps 文化都需要的基本构件。

如果我们想知道我们需要去哪里，我们必须能够衡量我们在哪里。指标将帮助我们了解我们所处的位置、对组织来说什么是重要的，以及开发运维之旅中的每一步将如何帮助我们改进流程，从而为最终用户增加价值。为了强化积极的行为，你需要能够衡量和报告它们。找出几个基本的测量方法，放在仪表板上，让整个团队都能看到，以帮助他们关注我们希望改进的地方。

**源代码控制:**这可能是公司在构建开发运维之旅的任何其他部分之前必须具备的最基本的构建模块之一。他们必须把他们的代码放在一个可以被访问和检查的地方，看看有什么变化。这对于能够保护他们的代码、执行签入、同行评审，以及了解他们到底在交付管道中推动了什么是非常重要的。

这也是我们开始构建其他一些指标的地方。像代码变动和活动文件这样的事情变得很容易识别，甚至一些更模糊的度量标准，比如代码行数，至少对我们来说是可用的，以便我们了解一个项目有多大，或者隐藏在背后的技术债务有多少。

**工作项跟踪:**使用某种形式的工作项跟踪功能、待定项、bug 和任务。我是敏捷的忠实粉丝，所以拥有一个对整个团队可见的产品清单或看板将允许他们专注于一个目标。跟踪工作项目清楚地展示了谁负责什么，并增加了责任级别。每一次迭代都应该有一个对团队来说“完成”意味着什么的清晰定义。

**持续集成:**实现了一个允许您的代码集中的源代码控制系统，这意味着您现在有了一个可以开始构建持续集成(CI)系统的地方，该系统可以检索源代码并执行自动化构建、单元测试和静态代码分析(SCA)，所有这些也有助于对您的表现做出一些有用的衡量。应该鼓励开发人员尽早地、经常地检查他们的代码，以便我们每次在单独的构建机器上构建、测试项目并打包成构建工件时都能得到持续的反馈(避免“它在我的机器上工作”综合症)。

当构建 CI 模块时，这是收集额外指标的好地方，您可以看到有一致的绿色构建，所有的单元测试都通过了，如果您使用 sonarQube 或 Fortify 等工具，它将有助于产生关于代码质量、标准和技术债务的额外指标，团队成员可以通过报告仪表板直观地看到代码的质量，并对他们的构建充满信心。

**自动化部署(首先是单一环境):**这是我们开始看到许多协同作用的地方，但也是在过程中建立信任的许多问题。过于急切的工程师往往会试图一次性实现整个管道的自动化。相反，从自动化部署到单个环境的小工作开始，避免试图“煮沸海洋”,而是努力解决单个环境部署的问题。建立信任和信心，能够在不涉及手动步骤的情况下部署代码。在一个可以反复部署和销毁的“一次性”环境中执行此操作。随着时间的推移，其他同事将会看到拥有和自动化部署的惊人优势，并邀请您在您的管道中的其他环境中实现这一点。但首先让您的自动化部署进入单一环境，对其进行防弹处理，并与团队的其他成员建立信任，让他们相信这是一个值得信赖的过程。

**自动化测试:**一旦我们有了一个完全自动化的、可重复的流程来将系统部署到测试环境中，就可以通过集成和编码的 UI 测试来自动化该系统的测试。在 CI 构建中，我们运行单元测试，但是对于功能完整的系统，我们有机会运行集成和负载测试。拥有自动重建整个环境和运行更高级测试的能力，对于提高团队的速度和减少由简单错误引起的停机时间至关重要，这些错误可以通过基本功能测试来发现。然而，一定不要把所有的信任都放在自动化测试上。这些测试非常适合编写积极的测试脚本，比如能够登录或查询已知的信息，但是并不是每个测试都可以被考虑在内，没有什么比得上有人来掌舵进行探索性测试。

最棒的是，这也成为一个迭代过程，每次你构建一个测试，它可以被脚本化，你可以构建你的测试套件，这样每次迭代都比上一次更全面。我还想指出，虽然自动化测试对于基本场景来说很棒，但是试图通过脚本来维护复杂场景有时会比它的价值更麻烦。你可能遇到的最糟糕的事情之一是自动化测试不断失败并被忽略，因为它被记录为“哦，当界面改变时总是失败”，因为现在你正在训练你的团队忽略某些测试。在认证构建之前，每个脚本测试都应该通过。

**基础设施即代码:**一旦我们完成了代码的部署，并且可以成功地部署到一组已知的服务器或环境中，下一步就是在管道中引入基础设施即代码(IaC)的概念。通过将您的代码和基础结构配置都存储在源代码控制中，这将使您的团队能够通过简单地更改源代码控制中的一些参数来适应新的环境。有了利用 Chef 或 Puppet 等工具的参数化脚本，我们可以解放登录 VMWare 门户以调配服务器或设置 web 服务器等功能的手动流程，这些功能需要在成功部署到环境之前进行配置，从而进一步降低了人为错误的几率。

**监控:**这是经常被忽视的领域之一。一旦迭代结束，最新的代码被推向生产，我们经常会忘记操作系统和构建系统一样重要。但这也是商业中最关键的部分之一。我们必须监控我们的代码和系统，因为它正在生产中运行，以确保我们向最终用户交付价值。这也不应该仅限于通常的性能和异常监控。监控应该有助于回答企业更感兴趣的问题，如最终用户如何使用应用程序，他们最常使用的哪些功能可能会从扩展中受益，以及哪些功能可能根本不会使用，可以在未来的迭代中从系统中删除。有人曾经向我解释过，特色策展就像经营一家餐馆。当你经营餐馆时，你扩大了菜单，增加了某些食物，但如果没人点某些菜，你就把它们从菜单上去掉。没有一家餐馆会试图在菜单上有 400 个项目，并做所有的购物和其他任何与没有人点过的菜单项目相关的事情，那么为什么你要在你的系统中保留 400 个没有人使用的功能呢？

持续改进:如果某样东西没有坏，并不意味着你不能改进它。当您在将不同的工具和过程集成到您的交付管道中的过程中前进时，考虑一下您如何能够加速花费最长时间或者包含最大风险的活动。审查您的工作流程限制，并考虑如何减少周期时间。DevOps 不仅仅是自动化您的管道。有时，您需要回过头来重新构建现有系统，使其能够以不影响用户的方式高效部署。许多系统并不具备处理复杂的 DevOps 部署策略的能力，如蓝绿色部署、金丝雀构建、rings 以及其他在创建低风险版本的同时实现零停机的策略。但是，随着您的 DevOps 之旅走向成熟，这些正是您想要瞄准的机会。

[![](img/d74c51702e9b2205e1340e8d70512bf6.png)T2】](http://iedaddy.com/wp-content/uploads/2018/01/DevOpsJourney.png)

正如很多人喜欢说的，“千里之行始于足下。”DevOps 之旅也不例外，它从几小步开始，你开始走向成熟。不是每个人都从同一个地方开始，但这是一条我们一起走过的路。DevOps 是关于旅程而不是目的地。

devo PS——我们应该从哪里开始？最早出现在[上一个内陆帝国老爸的经历](http://iedaddy.com)。