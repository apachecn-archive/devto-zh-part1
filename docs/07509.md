# 当编写代码符合棉花糖测试时

> 原文:[https://dev . to/jonisar/when-writing-code-meet-the-marshmallow-test](https://dev.to/jonisar/when-writing-code-meets-the-marshmallow-test)

我在网上最喜欢的一个视频是这样一个视频，孩子们在被许诺如果他们能坚持一小会儿就会得到更大的奖励后，试图拒绝吃棉花糖:

这不仅仅是一个有趣的视频。这也是人类心理学中一个有趣的实验，证明了我们最重要的认知偏差之一:。

# [](#what-is-time-preference)什么是时间偏好

时间偏好基本上意味着我们更重视短期回报，而不是长期回报。实际上，这意味着我们宁愿现在吃一个棉花糖，也不愿以后吃一大堆。时差越长，情况越糟糕。

由于时间偏好受到时间的影响(令人震惊)，研究表明，寿命较长的人可能较少受到时间的操纵。为了帮助战胜这种偏见，而不是等待成为明智的长者，这里有一些提示，如何识别和克服这种偏见。

# [](#time-preference-and-writing-code)时间偏好和编写代码

[![alt text](../Images/7ec17aee2de1976ab8f40a4b65f97602.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--4jDeaeGf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/bm8ly6x10prdzvjssqr6.jpg)

像许多其他任务一样，编写代码通常意味着在短期和长期价值之间进行选择。时间偏好可能会诱使我们选择眼前的满足而不是长期的价值。将更好的实践强加给自己通常需要激活宝贵而有限的精神资源，比如意志力。

这里有一些建议，告诉我们在编写代码时如何以及何时意识到这种偏见，以及我们如何努力克服它。

## [](#testdriven-development)测试驱动开发

我们都知道 TDD。我们都知道单元测试有多重要。毫无疑问，当我们更改内容时，它们是如何帮助确保不出问题的，以及它们是如何影响我们应用程序的整体质量和可维护性的。

但是，在短周期内“中断”我们的开发流程来编写测试并不总是心理上简单的。有时候我们只想把工作做完，然后再担心长期的事情。我们可以采用不同的方法，但是采用的曲线通常会有一点困难。

我们可以通过几种方式来看待 TDD，以增加短期价值和满意度，使等式更加有利于我们。

一个很好的例子是，测试有助于**决定什么时候事情足够好**。它们定义了不同组件的行为范围，帮助我们更好地理解每个组件应该做什么，以及什么时候足够好，可以被认为是“工作的”。这实际上可以帮助我们**节省时间**，并停止优化已经击中要害的东西。

此外，不要羞于以职业道德和实践质量为荣。看到绿色指示灯在我们的代码上闪烁，并知道我们努力创造了我们引以为豪的东西，这不是一件轻而易举的事情。熟能生巧，好的实践应该让我们骄傲。

## [](#design-for-modularity-and-reusability)模块化和可重用性设计

[![alt text](../Images/be890ac013e173ff4ffe0f3f03ef51af.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--NIA1mP8V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/eqp8e7cxprb0ovdl12qj.png)

用更小的原子功能构建模块化软件[提供了许多优势](https://dev.to/jonisar/coding-in-the-age-of-code-components)。牢记这些原则设计我们的应用程序[有助于更好、更易维护的软件](https://addyosmani.com/first/)。尽管如此，与 TDD 非常相似，它现在可能也需要一些额外的思考和努力。

为了让生活更轻松，我们可以尝试从这种实践中获得短期价值和满足感。在设计中考虑模块化有助于更好地理解我们的应用程序是如何构建的，以及每个组件如何适应更大的图景。这种清晰的结构有助于避免编写我们不需要的东西，并有助于更快地为生产做好准备。厚两遍，写一遍。

此外，我们可以而且应该致力于使我们的模块化组件在工作时真正可重用，而不仅仅是通过设计。

有些人将组件添加到通用的“util”库中，并在项目间拖动。其他人保持一个“等待导出”目录，以便在我们每次创建一个可重用组件时导出它。向 NPM 这样的包装经理发布每一个组件可能会消耗我们一天的时间(锅炉电镀等)。)，从而在等式中产生更多的直接负值。为了降低障碍，我们还可以使用像 [Bit](https://github.com/teambit/bit) 这样的项目，并利用导出的简单性来创建一个不断增长的[可重用组件库](https://bitsrc.io)，与开源社区共享。

建立一个开源工作的武器库是有趣的，并且为我们的努力产生一个清晰的视觉反馈。这也是一种很好的与他人合作的方式，同时可以获得对我们工作的反馈和改进建议。给予他人是一件值得骄傲的事情，社交指标或下载量让我们(从生理上)感受到我们所做的事情带来的冲击。

从长远来看，您的代码也将更容易维护和理解。

## [](#short-documentation-cycle)文件周期短

如果要向下一个必须看代码的人解释我们的代码，我们通常会想到文档。我们知道这有多重要，我们都曾试图钻研别人的代码，希望他们花了额外的时间来编写有用的文档。

花时间记录每个组件并不总是简单的。未来的我们或未来的其他人并不总是我们的第一优先，我们倾向于忽略它，并把我们的精神资源放在让我们的代码工作上。

有一些方法可以让这个过程在短期内更加实用和令人满意。首先，我们可以创建一个清晰的格式来记录不同的组件和模块。决定文档的确切格式有助于掌握我们要做什么以及要花多长时间，降低开始写文档的心理障碍。例如，当记录一个 Javascript 核心功能时，我们可以使用一个清单(a)简短描述(b)签名(参数，返回)(c) 1-3 个例子等等。这使得重复该过程更容易。

我们还可以确保我们的文档构建了一个逻辑故事。如果我们知道功能 A 导致 B 与 C 一起工作，我们可以“阅读”我们代码的故事，并确保一切都有意义，我们没有添加多余的章节。当然，模块化意味着每个组件都将被独立地文档化。尽管如此，一个故事中的章节应该尽可能地以一种合乎逻辑的方式建立在彼此之上。如果没有，医生是找出答案的好方法。

好的文档也有助于向我们的团队或开源发布我们的工作，很好地发挥了模块化和可重用性。

单元测试也可以作为组件文档的一部分。例如，如果我们有一个简单的 [array-first](https://bitsrc.io/bit/utils/array/first) Javascript 函数，测试可以告诉我们(a)当数组为空时，它将返回`null` (B)当给定 x 时，返回数组的第一个值。这样，测试也可以作为使用示例，帮助更好地理解我们的代码处理的不同用例。这样我们可以一口打两个棉花糖。

归根结底，这些只是建议。这真的取决于我们是否知道何时以及如何从实践中获得更好的即时满足感，同时创造长期价值。随着时间的推移，我们发展了自己对“什么对我们有用”的理解，没有一个规则适用于所有人。从很多方面来说，这都是它美丽的一部分。

*“我能抵制一切，除了诱惑”*
——王尔德