# 这个网站基本上是 AMP HTML

> 原文:[https://dev.to/ben/this-website-is-basically-amp-html](https://dev.to/ben/this-website-is-basically-amp-html)

来自 GitHub 上的 [AMP HTML 自述文件](https://github.com/ampproject/amphtml):

> AMP HTML 是一种为静态内容构建网页的方法，可以可靠、快速地呈现静态内容。这是我们试图解决许多人认为的页面加载速度慢的问题——尤其是在移动网络上阅读内容时。
> 
> AMP HTML 完全建立在现有的网络技术之上。它通过限制 HTML、CSS 和 JavaScript 的某些部分来实现可靠的性能。这些限制由 AMP HTML 附带的验证器强制执行。为了弥补这些限制，AMP HTML 为基本 HTML 之外的丰富内容定义了一组[自定义元素](http://www.html5rocks.com/en/tutorials/webcomponents/customelements/)。了解更多关于[AMP 如何提高性能](https://www.ampproject.org/docs/get_started/technical_overview.html)。

我在过去写过关于网页渲染的文章，以及我用[【1】](https://dev.to/ben/how-i-made-this-website-hella-fast-without-overcomplicating-things)[【2】](https://dev.to/ben/faster-rendering-on-the-web)试验过的技术，但是随着时间的推移，想法变得清晰起来，值得继续讨论。AMP(加速移动页面)本质上是一组约束，旨在使网站渲染更快，并确保它们可以被感兴趣的各方合理地缓存。该协议受制于政治、商业利益和不可避免的技术复杂性，因此我对未来有矛盾的想法和普遍的不确定性。AMP HTML 为应用程序提供了一种现实的方式来高速缓存和即时提供内容，我认为这很有意思。谷歌是驱动力，但我希望看到 Twitter 以这种方式提供出站链接。这将真正改善点击 Twitter 应用程序上的出站链接的体验，同时仍然给内容创建者很多代理的体验。但是，就像我说的，关于 AMP 的一切都是有争议的。

不管 AMP 政治，一般的咒语是非常健全的，更多的网站应该建立在这种风格。您正在阅读的这个应用程序是用 AMP-esque 约束构建的，我认为它对用户体验来说非常棒。网站加载速度极快，内部导航速度惊人，没有什么比内容更重要。

## [](#inline-and-async)内联和异步

该应用程序前端的指导设计原则是，初始渲染所需的一切都是“内联”的，并且在渲染初始体验之前尽可能少地进行计算。本质上，这意味着对于页面所需的样式，有一个`<style>`标记而不是外部 CSS 脚本，然后外部 CSS 和 JavaScript 文件被异步加载，以便在从世界各地获取资源时不会阻塞呈现。没有代码重复，因为所有的 CSS 都在 SCSS 文件中编写一次，然后根据需要内联。然后，一切都通过 CDN 缓存在边缘，以尽可能少的延迟提供给读者。

边缘缓存约束意味着与页面功能相关的支持信息(如您是否登录)是异步获取的。设计，无论是软件架构还是美学，都需要支持这种约束，但我认为这是一件很棒的事情。定义明确的观点和约束是成长系统的生命线。

## [](#more-thoughts-on-amp)更多关于 AMP 的想法

随着我们向前发展，我们需要考虑应用程序的各种需求、用户的需求、出现的机会，以及我们如何创造性地利用这些机会。在我写这篇文章的时候，我们已经推迟了让所有页面都兼容 AMP 的任务，因为没有什么用例如此引人注目，以至于不值得继续依赖它。然而，如果 AMP 以上述方式被 Twitter 采用，我们会迫不及待地加入它。

不管怎样，AMP 都在路线图上，但事实是我们的基本实现已经 99%兼容，它只是解决一些特殊问题的一种方式，这表明如果你不确定像 AMP 这样的依赖在你的整体发布策略中的作用，它就是对开发者资源的浪费。任何新闻机构早就应该整合 AMP，因为谷歌在其移动新闻结果转盘中使用了该技术。我用 AMP [做了实验，一听说它就写了它](https://dev.to/ben/accelerated-mobile-pages),但我很高兴我们没有急于让它成为我们战略的一部分。时间会让我们变得更聪明，我很乐意坐在这里，直到道路变得清晰。

###### [](#cover-photo-marvel-comics)封面照片:[漫威漫画](http://marvel.com/comics)