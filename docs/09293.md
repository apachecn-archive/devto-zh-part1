# 如何在 45 分钟的系统设计面试中不设计网飞？

> 原文:[https://dev . to/fahimulhaq/how-not-to-design-网飞在你的 45 分钟系统设计面试中](https://dev.to/fahimulhaq/how-not-to-design-netflix-in-your-45-minute-system-design-interview)

*注:这篇文章最初发表在 [Hackernoon](https://hackernoon.com/how-not-to-design-netflix-in-your-45-minute-system-design-interview-64953391a054#.7onma5ftq) 上。*

在过去的两年里，我已经帮助 100 多名工程师准备了科技公司的面试。去年，我还自告奋勇为应届毕业生进行模拟面试。在创办我的创业公司之前，我已经在脸书和微软面试了数百名候选人。

在这些讨论中，很明显，候选人对系统设计面试比对编码面试更紧张。我还注意到许多候选人经常犯的错误。在这篇文章中，我将指出其中的一些错误。(*我计划写更多关于你在面试中应该做什么的内容，但是如果你正在寻找准备的资源，我已经在这篇文章的结尾提到了一些资源*)。

作为工程师，我们害怕系统设计面试，因为我们在学校项目中甚至在工作中没有机会设计大型系统，我们很少有机会从头开始创建一个可扩展的系统。通常，我们加入一个已建立的团队，承担为特定组件编写特性的任务。我们把大部分时间花在修复 bug、优化代码和编写测试上。然而，当您被要求在 45 分钟内设计一个大规模的分布式系统时，您不会想花时间讨论如何通过避免缓冲区复制来减少 20 毫秒的响应时间。相反，您需要识别高级组件，并描述这些组件将如何相互交互。

## 你能在 45 分钟内设计出网飞吗？

你通常被要求在 45 分钟内设计网飞(或另一个拥有数亿用户的可扩展服务)。这是一个看似荒谬的问题。45 分钟对于讨论任何一个组成部分的细节来说都太短了。这些服务是由成百上千的工程师在多年的时间里开发出来的。你如何压缩所有的工作并在 5x5 的白板上画出草图？

这里的关键是了解你的面试官在寻找什么。她希望你给他一个 50，000 英尺的概述，确定高层组件，并尽可能简洁地描述组件之间的交互。下面是这种讨论的三个阶段。

1.  画一个代表系统的大方框。
2.  放大并把这个大盒子分成 5-6 个部分。
3.  简要讨论每个组件的角色，例如计算、存储、前端、后端、缓存、排队、网络、负载平衡等。

你的面试官希望你更深入地讨论 1-2 个组成部分，他会具体说明是哪一个。在这些讨论中，您很少被期望编写任何代码。

以下是一些应聘者在面试中常犯的错误。

## 我知道 20 个流行语，所以应该没问题

你可能会想，如果我必须在一个抽象的层次上进行设计，我可能会在设计面试中胡说八道。没那么快。你的面试官正在寻找和她每天一起工作的队友，而那些试图在面试中胡说八道的人会一而再再而三地这么做。任何有经验的面试官都会留意那些试图加入“No-SQL”、“Mongo DB”和“Hadoop”等流行词汇的人。永远，永远期待你的面试官会问更多的细节和理由。如果你很好地理解了它们，并且能够证明和捍卫你的方法，那么只使用流行词汇和时尚技术，例如“GraphQL”。

> 规则 1:在面试前一晚阅读[高可扩展性](http://highscalability.com/)不会让你成为分布式系统专家。

## [](#i-can-pretend-to-be-an-expert)我可以冒充专家

我听说过一些非常尴尬的情况，应聘者假装是某方面的专家，结果发现面试官是该领域的知名专家。除了上面的故事(我不会在这里讲述)，我自己也有过几次这样的情况——在桌子的两边。

2006 年，我被微软面试，面试官问我是否实现了 B 树(或者 B+树)。我告诉他我知道什么是 B 树，在数据库里有用但是记不住别的。他转向了其他话题。后来我发现我的面试官是詹姆斯·汉密尔顿，他是数据库和分布式系统领域的顶尖专家。几年后，我开始为微软的 Azure 存储实现 B+树(包含数 t B 数据的大型 B+树)，现在我对 B+树略知一二。即使在今天，我也会害怕告诉詹姆斯·汉密尔顿我知道什么是 B+树。

在桌子的另一边，曾经有一个受访者告诉我，他已经在某个代码库中实现了某些特性。他不知道的是，在他加入那个团队之前，我曾经在那个代码库工作过。我稍微调查了一下，发现他只为那个代码库实现了一个客户端，但是要求更多。

像上面这样的事件显然很少发生。更有可能的是两件事:

1.  你的面试官可能正在研究你正在谈论的技术，他可以很容易地区分骗子和专家。
2.  这个问题她可能已经问了 1000 次了，她非常了解可能的解决方案。他会很快发现你实际上理解了多少。

> 规则二:永远不要假装自己是专家。面试你的人几乎总是比你更了解这个领域，甚至可能是行业专家。

## [](#this-is-really-my-domain-ill-be-done-in-15-minutes)这真是我的地盘。我会在 15 分钟内完成

对你有好处，但是慢点。不要跳到您已经知道的解决方案，请执行以下操作:

1.  收集需求。
2.  提问。你的面试官有兴趣了解你的思维过程。
3.  评估多种解决方案，讨论利弊，看看讨论的结果。

实际上，不管你是否了解这个领域，这样做都是一个好主意。

> 规则 3:不要急于找到解决方案。收集需求，提出多种解决方案并进行评估。这是一次开放式的讨论。

## [](#bonus-dont-be-that-candidate)奖励:不要成为那个候选人

*(免责声明:以下为假设性对话，与真实人物或真实事件的任何相似之处纯属巧合。)*

> ***面试官:**让我们实现 Twitter 吧。你打算如何存储所有的推文？
> **候选人:**我打算用一个类似 MongoDB 的 NoSQL 数据库。*
> 
> ***面试官:**为什么不是 MySQL？
> **候选:** RDBMS 不可伸缩。我们需要一个像 MongoDB 或 BigTable 这样的可扩展数据库。*
> 
> ***采访者:**但是我们在 Twitter 上把我们所有的推文都存储在 MySQL 上，它的扩展性很好。
> **候选人:**好吧，那我站着更正。也许你的规模没有那么大。像脸书这样需要更大规模的服务使用非 SQL 解决方案。*
> 
> 采访者:但是脸书也使用 MySQL。
> **候选:**我不知道他们的规模如何。我得查一下。也许他们在前端有一个由 BigTable 支持的 MySQL。
> 
> 面试官:没关系。我们应该在哪里存储我们的分析数据？
> **候选:**明显在 MySQL。
> 
> ***面试官:**但是对 MySQL 来说太多了。我们把它存放在 HDFS。
> **候选人:**你可能在 MongoDB 成熟之前就开始构建 Twitter 了。MongoDB 可以轻松处理您的推文和分析数据。*
> 
> 面试官:好的，谢谢你的时间。和你谈话很愉快。

## [](#resources-for-preparing-for-software-engineering-interviews)准备软件工程面试的资源

1.  如果你正在寻找准备系统设计面试的资源，看看[搜索系统设计面试](https://www.educative.io/courses/grokking-the-system-design-interview)吧，它涵盖了分布式系统的基础知识，并有互动课程，涵盖如何设计 Instagram、Dropbox、Twitter、Facebook Messenger、Youtube、脸书邮报搜索、Typeahead、网络爬虫、Yelp 和优步/Lyft。

2.  如果你正在准备编码面试，看看[探索编码面试:编码问题的模式](https://www.educative.io/courses/grokking-the-coding-interview)。本课程揭示了几乎每个编码问题背后的 15 种模式，这样你就不必为了自信而去解决成百上千的问题。它有 120 多个 Python、Java、Javascript 和 C++代码的问题。每个问题都有互动的可视化来解释每一步，这样你就能真正理解解决方案，而不仅仅是记住它们。

**附加阅读**

*   [如何在 45 分钟的编码面试中失败](https://dev.to/fahimulhaq/how-not-to-succeed-in-your-45-minute-coding-interview)
*   [系统设计面试剖析](https://dev.to/fahimulhaq/anatomy-of-a-system-design-interview)

法希姆是[教育机构](https://www.educative.io)的联合创始人。我们正在为软件工程师和教师构建下一代学习平台。学习者通过互动课程学习。教师可以使用我们的课程生成器创建和发布交互式课程。如果你有兴趣发布课程或了解更多，请随时联系。