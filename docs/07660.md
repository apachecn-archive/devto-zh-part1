# 生锈的好处

> 原文：<https://dev.to/legolord208/benefits-of-rust>

你可能已经注意到了，围棋似乎是现在的明星。奇怪的是，在我突然到处听到它之前，我刚刚开始用它。

我的意思是，这是一种奇妙的语言。事实上，这是我最喜欢的语言。仍然是最好的之一。实际上，我在其中做了一个相当大的应用，它从我这里得到了很多爱(老实说，我是相当不知名的)。

那么铁锈是什么？为什么我现在要说这个？实际上，从一开始，我的朋友 [@tbodt](https://dev.to/tbodt) 似乎就对这门语言很着迷。据我所知，我们谁也没有深入研究过。我忙着下围棋。

无论如何，因为我不是专业学校毕业，只是一个小小的青少年爱好者，我只是听说过数据竞赛。当然，我赶紧更新了大部分应用。包括我最大的一个。(一切都很好，直到我突然似乎莫名其妙地得到了一个 goroutine 泄漏，这要感谢我放入的新互斥体。)

后来我有点无聊，就调查了铁锈。我在 [discordgo](https://github.com/bwmarrin/discordgo) 社区认识的另一个好友 [@nstafie](https://github.com/nstafie) 对它评价很高。

## 那是我入行的时候。

决定实际做一个测试项目，我读了最初的教程，尽可能多的学习，并做了我能想到的最小的测试想法。

## 围棋 vs 铁锈？？？？

还记得我那个有点问题的老程序吗？我有了用 Rust 重写的想法。当然，我肯定不想做那么大的事情，但是...是的，这是一个很好的想法。直到有一天，discordgo 社区说服我重写我的一点蹩脚代码。那么我会在围棋中这样做吗？
铁锈。
我选择 Rust 是因为与 Go 相比，它有一些锦囊妙计。

*   宏。它们可能是我在编程中见过的最被低估的东西。你曾经希望能够从一个函数返回一个函数吗？嗯，宏可以做到这一点。另外，他们用空间换取速度。但是说实话，现在人们有无限的硬盘。尽管如此，还是要小心。
*   仿制药。这可能不是我自己使用的东西，但是由于泛型，标准库可以添加稍微高级一些的功能，比如 contains 和 amazing stuff。
*   控制。几乎没有任何类型实现了`Copy`“trait”(又名 Rust 的`interface`)。虽然这让你毛骨悚然，但也让你意识到什么时候需要复印，你可以看看是否能避免复印。即使大多数时候你不能，你也可以加上`.clone()`。

但这不是最大的原因

## 编译时错误和警告

我在使用 Rust 时看到的一件非常酷的事情是，我做了一件非常愚蠢的事情，比较存储在无符号 int 中的用户输入是否为`< 0`。你猜怎么着？Rust 警告过我无用的支票！！

与即时编译或解释语言相比，编译语言的一个最大优势是，它比即时编译或解释语言好了一百万倍。事实上，在我整个重写过程中，直到今天(当我试图在宏中直接使用函数结果时),我都没有遇到过一次运行时死机...哎呀)
这表明你为你的用户受苦。

当然，我仍然勉强理解错误信息。虽然它们试图有所帮助，但它们仍然有点大而笨重，并不总是非常准确地满足您的需求。

## 去锈？？？？

别告诉我我已经换成铁锈了。虽然我们都知道这是真的，但我喜欢把自己看作是一个不怕在每个项目中切换语言的人。Go 绝对是一种很酷的语言，而且对很多事情来说仍然很棒。

*   围棋肯定更好理解。
*   Go 内置了很多东西，Rust 没有。最大的缺失内置是信号处理，但其他缺失内置包括惰性静态、http 支持和解析命令行参数和 JSON。

但是我喜欢围棋。拉斯特到底做了什么能让我这么做，我没有。
你可能看不出来，但是 Rust 和 Go 与其他语言相比惊人的相似。

*   可理解的类型命名。说真的，我一直不知道`float`和`double`有什么区别，直到 Go 和 Rust 围过来说是`f32` / `float32`和`f64` / `float64`(其中后者是 Go。)
*   在名称后键入。这不是最大的问题，但是在弄清楚哪个变量之后，弄清楚变量的类型是有意义的。
*   最后返回类型。同上。

# 结论。

抱歉让你读了这么多。呀！
简而言之，锈就是`C + Go + convenience + (annoyance * 10)`。
肯定对什么都有用，但并不总是正确的语言选择。

[我所说的重写可以在这里看到](https://github.com/discordconsole-team/DiscordConsole/tree/rewrite)

**玩得开心！**