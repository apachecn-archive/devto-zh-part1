# 为什么不写干净的代码呢？

> 原文:[https://dev.to/tamasrev/why-not-write-clean-code-7i7](https://dev.to/tamasrev/why-not-write-clean-code-7i7)

我想你已经知道什么是干净的代码了:这是著名的鲍勃大叔[的书](http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882)，它提供了可读代码的非常准确的定义。自从那本书出版以来，有很多关于干净代码的讨论。人们谈论工艺，可读性。他们甚至去代码务虚会。如果你公开反对干净代码，你会发现自己在[“永远不被雇佣”](http://www.techdarkside.com/when-is-ugly-code-okay)的名单上。谈论[管道胶带程序员](http://www.joelonsoftware.com/items/2009/09/23.html)已经不再酷了。甚至 [~~戴夫~~](http://www.youtube.com/watch?v=QlqA0OKsBB8) 保罗·格拉厄姆也同意我们必须编写[可读代码](http://www.paulgraham.com/head.html)。好吧，也许保罗是在鲍勃叔叔出版这本书的几年前说的，但是你明白了。

可悲的是，没有人问为什么不写干净的代码？对此我有许多独立的理由:

### [](#1-any-fool-can-point-out-mistakes-in-clean-code)1。任何傻瓜都能在干净的代码中指出错误。

假设你花了一些时间和精力让你的代码变得干净。你删除了重复，你使用了短而一致的名字，你的方法很容易理解。在某一点上，你决定这么多抛光是足够的——无论如何，装运是一个特征。

一段时间后，一位同事会查看您的代码并指出实际问题。你用的名字越多，你拼错的就越多。你使用的方法越短，就越容易发现重复。所以你的同事走过来告诉你如何改进。很遗憾，不是吗？

如果你写了混乱的代码，这一切都不会发生。在这种情况下，你的同事最多只能说“这太脏了”。对此有一个很好的回答:“那又怎样？有用！你说得越大声越有说服力。没有人会仅仅通过查看你的代码来发现它的错误。

### [](#2-you-like-to-be-important)2。你喜欢变得重要

假设你去度假 2-3 周。当你回来时，你的同事告诉你，一个用户报告了你代码中的一个 bug 他们修复了这个 bug。他们会告诉你，由于你彻底的单元测试，他们去掉了一些东西而没有引入新的错误。在重构之后，他们会说，他们可以很容易地修复原来的错误并发布新版本。

感觉有些不对劲，是吗？听起来你是可替代的——现在每个人都知道了。这不应该发生。如果他们在你度假的时候打电话给你，让你尽快修好它，不是更好吗？刚开始有点不方便，但是谁在乎呢？你的家人会知道你是一个超级重要的世界级黑客。你的同事也会知道，如果你离开，他们可以从头开始重写你的模块。

那么，当他们打电话给你有紧急问题时，该怎么办呢？你有很多选择:

你可以友好地解释说这是一个非常简单的问题，你可以告诉他们如何解决它。如果这种方法没有奏效，你仍然可以责怪他们误解了你所说的话
通常你会弄脏自己的手，自己解决问题
有时你可能会有点苛刻，例如，“没有我，你们能完成任何事情吗？”
底线:每个人都会对你非常尊重。

### [](#3-you-dont-like-oo-principles)3。你不喜欢 OO 原则

有一些首字母缩略词，比如干的或蘸的。如果你用谷歌搜索它们，你会发现很长的解释，基本上什么都没有。他们都在说，出于一些抽象的原因，比如灵活性或模块化，你必须编写更复杂的代码。一旦你开始关注这些原则，你的代码就会充满设计模式。

加油！你会让这些原则减少你对无模式代码的努力吗？你知道你可以做得更好！你可以说所有这些模式给你的代码增加了不必要的复杂性。如果有人质疑为什么在 3 个方法中有 7 个几乎相同的代码块变体，你可以告诉他们:“这样你可以很容易地看到流程:一步接一步”。你越经常这么说，就越有说服力。

### [](#4-you-want-to-create-jobs-for-others)4。你想为他人创造就业机会

我知道你内心深处是一个真正的利他主义者。一旦你写了服务，你不希望公司创始人拿走所有的钱。你希望他们雇佣更多的测试人员和软件工程师来理解和维护你创造的东西。还有什么比给其他人创造工作和难题更高尚的呢？

## [](#are-there-any-real-reasons-for-not-writing-clean-code)不写干净代码有什么现实原因吗？

好了，玩笑先放一边。有没有什么理由不写干净的代码？嗯，有人可能会问，是否有任何理由编写糟糕的代码。这是一个大禁忌。然而，代码的整洁度是一个 0-1 的范围，而不是一个 0/1 的布尔值。我相信在一些情况下，您不需要编写特别干净的代码:

### [](#1-you-dont-know-how-to-write-clean-code)1。你不知道如何写干净的代码

事实上，这是一个真实的。假设你想学习如何编写干净的代码。你真的很热情，然而，你倾向于从字面上理解一切。(这个我也是心虚的。)那么，你不应该马上写干净的代码。如果你试图应用那本书里的所有技术，那么你最终会写出你所写过的最糟糕的代码。我建议一个一个的学习和练习。一旦你可以几乎自动地应用一项技术，那么你就可以继续下一项。比你想象的更快，你会写出惊人的代码。

### [](#2-you-are-in-crunch-mode)2。你处于紧缩模式

这也是真的。有时你处于紧张状态。也许你的服务中有一个 bug，在它被修复之前，你的公司每天都会损失几十万美元。

当你为一家初创公司工作，不得不在你的竞争对手之前发布一些东西时，我不太愿意提及这种情况。我犹豫是因为选择 RAD 工具可以节省大部分时间。不使用 TDD 可以节省一些时间(并获得许多 bug )(这里有更多相关内容)。尽管很明显，初创公司不能花时间在特别干净的代码上，但编写糟糕的代码也无济于事。

不管出于什么原因，你正处于危机状态:继续，为了更大的利益而修复和运输。别忘了一会儿收拾残局。

* * *

最初出现在 [tamasrev](https://tamasrev.wordpress.com/2013/02/02/why-not-write-clean-code/) 博客上。