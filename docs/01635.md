# 举办 TDD 研讨会的问题

> 原文：<https://dev.to/meanin/questions-from-conducting-tdd-workshops-29f6>

# 简介

最近一直在尝试事业上的新东西。几周前，我被选中担任为期两周的 scrum master 角色。这是一次很好的经历，但是现在我有了下一个挑战。我的一个同事说，他很欣赏我关于测试的建议。因此，我被要求主持一个 [TDD 研讨会](https://github.com/meanin/test-driven-development)。

首先，我介绍了测试驱动开发方法的几个定义，并向人们展示了它对长期项目影响的著名图表。我说了几句`red-green-refactor`阶段，开发周期短，主要测试部分。我已经准备了项目和练习来巩固新技能。我介绍了单元测试的框架、基本原则、方法名的约定、测试双重和断言。

# 右边部分

让我们开门见山吧。在教男生测试的时候，我听到了一些有趣的问题。这里是其中的几个。

#### 1。每个 tdd 阶段需要多长时间？

> 这取决于你测试的类有多复杂。我们应该致力于使周期尽可能短。我们使用的周期越短，我们犯的错误就越少。这也导致了简洁明了的测试，易于阅读。

#### 2。应该测试多大的参数范围？例如，我们应该测试整个整数吗？从-2147483648 到 2147483647？

> 根据我的经验，最好的方法是测试所有的边缘情况。测试一些哑值也是好的。空值也值得测试。

#### 3。测试覆盖率的最合理值是多少？

> 鲍勃叔叔会说 100%。从我的角度来看，你可以只测试业务逻辑、服务之类的东西。如果你有一个轻量级的控制器，没有什么可测试的。当您测试数据库连接时，它实际上是一个集成测试。我觉得是 70%。但要看情况。

#### 4。应该测试系统的哪个部分？

> 大部分都是。你的测试越多，你的系统就越坚固。不是每个测试都会被认为是一个单元，但是在这种情况下，越多越好。

#### 5。异步方法呢，我应该测试它们吗？怎么做呢？速度呢？

> 是的。大多数测试框架也包含异步版本。打这样一个电话没有困难。当您正确地提取抽象并注入模拟的依赖项时，速度是没有问题的。

#### 6。使用像 [AutoFixture](https://github.com/AutoFixture/AutoFixture) 这样的框架有意义吗？

> 如果您担心模糊的测试输出，那么您不应该使用它。正如我前面说过的，你测试的测试用例越多，你对你的代码就越有信心。如果这样一个框架会生成不可预测的方法输入，那么就有可能发现该方法中的新路径。

#### 7。使用间谍测试替身的原因是什么？

> 当你实现一个多次运行某个依赖项的方法时，间谍会帮助你。我在计算视频播放次数时遇到了问题。我提取了日期的抽象，用同样的方法运行了几次。每次我模拟的日期依赖项都返回不同的值，所以我创建了一个假的进程。我模拟了时间的流逝。使用这种方法，很容易就能计算出我的视频被播放了多少次。

#### 8。单元测试和集成测试之间的界限在哪里？

> 当你在对象创建过程中注入任何真正的依赖项而不是模拟的依赖项时，这就是一个集成测试。

#### 9。TDD 有什么替代方案吗？

> 英寸 net world，有一个框架叫 [SpecFlow](http://specflow.org/) 。它用于使用行为驱动开发(BDD)方法构建应用程序。在这种情况下，您将在开始真正的编码之前创建应用程序行为的完整描述。它是[黄瓜](https://github.com/cucumber/cucumber)的一个实现。另一种选择是盲目地相信你自己的源代码，等待质量保证团队的输出。但是这非常昂贵。

#### 10。TDD 有任何弱点吗？

> 是的，很不幸。你必须支付高昂的入门费用。在你开始有效地编写测试之前，你需要花很多时间来编写糟糕的测试，熟悉框架等等。另外，一个缺点是必须维护单元测试。

# 最后的想法

领导这样的培训是一次很好的经历。我很高兴，那些人让我这么做。我面对我的恐惧，我赢了。我有所准备，话题对我来说是众所周知的，所以基本上有什么好怕的？我知道，事后诸葛亮很容易。如果你有这样的机会，不要犹豫，试试自己。

附言

*   你的答案和我的一样吗？
*   你听过其他关于使用 TDD 的有趣问题吗？
*   你对它有什么体验？