# 100%覆盖率

> 原文:[https://dev.to/tomas_ehrlich/100-coverage](https://dev.to/tomas_ehrlich/100-coverage)

我不小心达到了 100%的覆盖率。之前我有 90%以上，感觉相当自信。覆盖报告给了我关于我自己的代码库的有用见解，我深刻地理解了正在发生的事情和发生的地方。

最后一句话有点难以测试，但我很有信心它是可行的。所以我写单元测试只是为了学习如何测试这种东西…我发现有一个错误。

## 100%的测试覆盖率意味着什么

我一直认为这是关于测试所有的代码行。然而，体面的覆盖记者抱怨错过 else 路径，所以它实际上也包括不存在的代码。

更准确的定义可能是在测试运行期间执行代码的所有分支。对于每个 if 条件，必须至少有两个单元测试(一个用于 if 子句，一个用于 else 子句)。

好的一面是你不需要 100%覆盖的单元测试。当你有一个复杂的涵盖所有情况的集成测试时，你可能会测试大部分代码。

## [](#is-it-worth-it)值得吗？

最常见的反驳论点是指标本身是无用的，因为一些测试比其他测试更重要。我同意这一点，代码的某些部分是至关重要的，应该比其他部分进行更多的测试(我通常至少 100%覆盖代码库的这些部分)。

关键是数字本身并不重要。测试覆盖率很大，因为它帮助我理解代码是如何执行的。它允许我发现我不知道的边缘情况。

> 目标不是 100%的覆盖率，而是理解 100%的代码并意识到那里发生了什么。完整的代码覆盖只是这种方法的副作用。

*链接到[原帖](https://medium.com/@TomasEhrlich/100-coverage-3b82c108bbd8)。*