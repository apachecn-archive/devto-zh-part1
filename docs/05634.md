# 对你的项目进行林挺的增量方法

> 原文:[https://dev . to/endangered massa/an-incremental-approach-to-林挺-to-your-projects-10g3](https://dev.to/endangeredmassa/an-incremental-approach-to-linting-to-your-projects-10g3)

我已经经历了几次将林挺添加到现有的大型项目中的过程。我学到了一些如何处理这件事的经验，这样就不会对团队的其他工作造成干扰。遵循这些步骤，在不停止团队速度的情况下，将健壮的林挺引入到您的项目中！

# [](#whats-so-great-about-linting)林挺有什么了不起的？

编码林挺的真正好处是它:

*   修复潜在的错误
*   删除不必要的代码
*   强制内部编码风格
*   (可选)实施社区编码风格

代码的一致性消除了对成百上千的小事情做出决定的需要(个人或团队),在这些小事情上，实际的决定并不重要，但是做出决定是有价值的。有了林挺，你的团队可以进行一次这样的对话，然后在项目的整个生命周期中强制执行。是的，这些可以随着时间的推移而改变，但是更新一个规则并一次修复所有的违规要容易得多！

采用更大的社区共享的编码风格也是有价值的。您的语言、框架或工具社区将有自己的约定。当开发人员在内部和外部代码之间切换上下文时，以及当开发人员在内部或外部改变工作时，与这些保持一致有助于减少摩擦。

# [](#how-do-i-get-started)我如何入门？

### [](#collect-existing-conventions)收集已有的约定

您可能已经有了一个样式指南或一组显式或隐式约定。无论您已经准备好了什么，都将其记录下来，作为代码会议团队会议的准备。别担心，在这个过程中我们只会开一次会！

### [](#discuss-conventions)讨论约定

将这些笔记带到团队会议上，讨论惯例是什么，以及你希望它们是什么。试着坚持更高层次的问题(缩进、间距、关键字使用)，而不是每一个可能的决定。

你的惯例会直接或间接地影响许多林挺规则，但是这些规则太多了，很难让团队对每一条都达成一致。从一套坚实的基本规则开始将允许你(1)做出更少的决定，并且(2)给你的团队空间，在对他们重要的地方做出决定。关于林挺工具和配置的个人建议，请参见最后一节。

### [](#enforce-passing-conventions)强制执行通行惯例

一次一个工具或规则集，安装并配置它运行。理想情况下，将它集成到您的构建过程和测试套件中。

在这一点上，你可能会看到很多林挺的失败。浏览列表，禁用至少有一个失败的所有规则。现在你应该看不到失败了。在某个地方保留一个列表，列出那些因为失败而被关闭的规则(而不是因为你不同意它们而被关闭)。我们以后会需要的！

提交并提交以供审查。你现在拥有的是一套强制执行的规则，所有这些规则目前都通过了林挺检查，还有一个要执行的规则列表。这应该对团队影响不大，同时仍然执行你已经遵循的林挺规则。

### [](#fix-failing-conventions)修正失败的约定

一次一个(或几个相关的)规则，启用规则并修复所有故障。eslint 之类的一些工具会帮你修复一些故障(`eslint . --fix`)。

提交变更以供审核。团队成员可以不同意，并在拉请求中进行对话，但希望早期的讨论使这种情况不常见。

重复此步骤，直到所有规则都恢复正常！

# [](#the-result)结果

我们现在有了一个增量维护工作的过程，我们可以小块地做这些工作来改善代码的状态。只要您的团队有适当的空闲时间专门用于维护，您将很快完成所有这些工作！

# [](#i-want-more)我要更多！

外面有很多很棒的棉绒。这里有一个让你开始的列表！

*   [诚信通](http://eslint.org/)(带[诚信通:推荐](http://eslint.org/docs/user-guide/configuring#using-eslintrecommended))

    *   [airbnb-base](https://github.com/airbnb/javascript)
    *   [eslint 插件导入](https://github.com/benmosher/eslint-plugin-import)
    *   [其他…](https://www.npmjs.com/browse/keyword/eslint)
*   余烬

    *   月-CLI-ESL
    *   [ember-a11y-测试](https://github.com/ember-a11y/ember-a11y-testing)
    *   [ember-cli-template-lint](https://github.com/rwjblue/ember-cli-template-lint)
    *   [ember-CLI-SCS-lint](https://github.com/tomasbasham/ember-cli-scss-lint)
*   其他的

    *   [sass lint](https://github.com/sasstools/sass-lint)
    *   [axe (a11y)](https://github.com/dequelabs/axe-core)
    *   [灯塔(PWA/性能)](https://developers.google.com/web/tools/lighthouse/)

快乐的林挺！