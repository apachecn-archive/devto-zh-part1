# 我从 12/02 bug 中学到了什么

> 原文:[https://dev.to/wtr/what-i-learned-from-1202-bug-6fk](https://dev.to/wtr/what-i-learned-from-1202-bug-6fk)

有人知道这个 bug 吗？[iOS 11 . 1 . 2 中的日期错误导致 iPhones 在 12 月 2 日到来时崩溃循环【更新】](https://www.macrumors.com/2017/12/02/ios-11-1-2-date-bug-crash-loop/)。

由于时区在日本，这个错误严重影响了许多人。我们公司也受到影响。也许我们的应用程序可能是世界上受影响最大的应用程序。因为大约有 700 万次下载，而且它默认使用通知。

这🙌制作这个 bug 演示项目的人是同事。

## 我做了什么

在上午 6:30(UTC+9)，我注意到我们的应用程序崩溃了很多，并成为 twitter 的趋势，但在 crashlytics 没有任何新的崩溃。当然 firebase 崩溃也不知道任何新的崩溃。

所以我开始在 twitter 上搜索，我发现我们的应用程序有一个错误。令人难以置信的是，我怎么能让一个直到昨天还能解决任何问题的应用程序导致 iOS 崩溃。

起初每个人都说通知是个问题，但是有推送通知和本地通知。我们的应用程序使用两种通知方法，所以我试图找到哪个通知导致了这个错误。

1.  检查设备令牌错误日志。
2.  停止获取设备令牌

还是这个 bug。找到任何线索。

我用于开发的账户很少。而且有一个账号并没有引起这个 bug。我开始对这个账户和其他账户进行区分。

在我们的应用程序中，用户可以选择重复通知的日期。那个账户被设为 25 号。其他帐户是第一个。
所以我把它改成了 25 号到 1 号。我打了臭虫。此参数会导致 bug，并且此参数仅在本地通知中使用。所以问题出在本地通知或者我们使用本地通知的代码上。

编辑代码，编译，运行和测试。编辑代码，编译，运行和测试。编辑代码，编译，运行和测试。我试了很多次。

如果您是 swift 开发人员，可能知道编译需要大量时间，而且在编译 Xcode 时会变得很愚蠢。这需要时间和精力。
的🙌盖伊做了一个小演示项目，击中了这个错误。这个项目非常小，编译速度非常快。所以我们可以调试得更快。

这是我从这个 bug 中学到的一点。

## 1。制作演示项目

如果🙌盖伊没有制作演示项目，我们无法确定这个质量[的 bug(仅限日语)。
在这篇文章中，我们试图描述 iOS 发生了什么。有更多的细节和猜测没有写在这篇文章里。
ex)这个 bug 不是只针对 2017 年的。不仅仅是 12/2。
这些结果是因为快速编译和调试而发现的。](https://blog.zaim.net/?p=3337)

## 2。用英语告诉苹果

iOS 是谁做的？苹果。苹果公司使用英语作为默认语言。
如果我们发现一个 bug。我们需要用英语告诉苹果。
大概瑞德有很多垃圾 bug 报告。所以我们需要从苹果那里获得关注。但是怎么做呢？

## 3。用英语告诉世界(推特)

那么我们表现得好吗？不。我们没有用英语告诉世界。只有日语。

我相信不会有这种巨大的错误。但是如果我击中了窃听器。我会做一个小演示项目，并用英语宣布。

如果你想更深入地了解这一点，你可以阅读这个博客。

只有苹果能知道真相。我们只能猜测。