# 在前端的后端

> 原文:[https://dev.to/horia141/on-backends-for-frontends-2h20](https://dev.to/horia141/on-backends-for-frontends-2h20)

只需阅读山姆纽曼的[后端前端](http://samnewman.io/patterns/architectural/bff/)。这是一篇很有见地的文章，值得一读。我遇到过这种模式几次，但是我没有给它起一个名字，我很高兴看到它有了更正式的定义。

在这篇文章中，Sam 重点介绍了如何使用 BFF，重点是移动应用程序。但我认为在 webapps 中它们同样有用。虽然可以依靠 webapp 来完成各种 API 调用以及数据本身的处理和合并，但最好还是将这些工作交给服务器端组件。速度仍然是 webapps 的一个优点，即使处理能力和网络带宽更加充裕。

此外，一个 web 应用程序有很多与外部互联网特别是搜索引擎的“集成点”。你想提供一个 robots.txt，一个 humans.txt，一个 sitemap.xml，RSS/Atom 提要等。类似地，授权流通常依赖于重定向，即使是在内部完成。如果您使用 OAuth 提供者、脸书登录或 Auth0 登录，您肯定要处理重定向。再说一次，BFF 是正确和安全地处理这个问题的地方。

最后，即使在编写 SPA 时，我认为拥有“静态”资产的托管也是一个好主意，比如编译的 js 和 CSS，favicons 等。提供这些服务是从内存中完成的，所以不管使用什么工具，都应该很快。此外，您应该在它的前面有某种 CDN 和静态资产的长期缓存，这样您就不会经常访问系统。最后，至少对于您的公共和可索引视图，服务器端渲染是必须的。再说一次，BFF 是处理所有这些工作的好地方。

PS。另外，如果 BFF 是由客户团队开发的(这是应该的！)，它可以给团队一些关于服务器端开发见解和经验。在大多数组织中，客户端团队往往比非客户端团队小得多，他们的技术堆栈和流程与从事后端服务或数据管理等工作的团队大不相同。所以可能会有某种孤立感。通过让这些团队也管理一项服务，您至少将他们包含在更大的技术环境中。