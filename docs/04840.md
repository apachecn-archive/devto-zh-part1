# 减少开发到的 503 错误的步骤

> 原文：<https://dev.to/ben/steps-to-mitigate-503-errors-on-devto>

这主要是给团队的一个备忘录，但是任何人都可以随意问我关于发生了什么的任何问题。

在过去的一周里，我们收到了大量的请求超时 503 响应。他们成群结队而来。我知道为什么我们很难处理它们，但没有可靠的答案。面对这种情况，我做了几个*我们最终会实现的*效率改进和 [Mac](https://dev.to/maestromac) 改进监控。以下是应对它的变化:

*   [原点屏蔽](https://docs.fastly.com/guides/performance-tuning/shielding)快速通过或 CDN。这应该会大大增加不通过我们的服务器的请求数量。它充当分布式节点首先读取的中心节点。默认情况下，中心节点是源服务器。
*   删除了对原始服务器的无效的多余异步请求。
*   提高了在大多数页面加载中异步发生的必要的源服务器请求的效率，这包括获取文章和评论的反应数量等。这些都是小变化，但这些得到了大量的流量。
*   降低了超时时间，这样我们就不会在繁重的请求上浪费资源。
*   定期刷新内存中的缓存。这可能有漏洞，需要进一步调查，但我们已经几次达到我们的计划限制，我们不应该*需要*增加计划。这似乎是一个不错的临时解决方案。
*   更好地监控这些问题。我们是一个小团队，不管理任何生死攸关的程序，一些“趁我们都睡着了砸风扇的狗屎”是允许的，但我们现在有更好的警报，当我们看到错误率增加时。如前所述，这都是 Mac 的功劳。

总而言之，我们的 CDN 现在应该承担更多的负载，改善用户体验，限制这些最糟糕的情况。

我已经错误地说过几次了，但我真的认为我们在这一点上有一个非常好的设置来处理比我们得到的更多的流量。仍有一些常规优化在进行中，还有更多工作要做，以调查当前的问题和未来的规模。

[![](img/9d1af297bb630f694b4fc58b59f8bb3d.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--dMG2TK48--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://media2.giphy.com/media/VcBLRaAiKQAms/giphy.gif)